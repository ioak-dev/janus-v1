(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0108":function(t,e,a){"use strict";var s=a("8743"),i=a.n(s);i.a},"0159":function(t,e,a){"use strict";var s=a("1f2e"),i=a.n(s);i.a},"0459":function(t,e,a){},"0465":function(t,e,a){},"0627":function(t,e,a){},"08de":function(t,e,a){},"09c8":function(t,e,a){"use strict";var s=a("8a25"),i=a.n(s);i.a},"0b46":function(t,e,a){"use strict";var s=a("eb06"),i=a.n(s);i.a},"0beb":function(t,e,a){"use strict";var s=a("176e"),i=a.n(s);i.a},"0ee0":function(t,e,a){"use strict";var s=a("f86f"),i=a.n(s);i.a},"0f27":function(t,e,a){},"0f3b":function(t,e,a){},1:function(t,e){},"107d":function(t,e,a){"use strict";var s=a("7b00"),i=a.n(s);i.a},1139:function(t,e,a){"use strict";var s=a("cd7a"),i=a.n(s);i.a},"136b":function(t,e,a){},1370:function(t,e,a){},1476:function(t,e,a){"use strict";var s=a("66ff"),i=a.n(s);i.a},"16db":function(t,e,a){},"173d":function(t,e,a){},"176e":function(t,e,a){},"18a7":function(t,e,a){},"19fd":function(t,e,a){},"1c1b":function(t,e,a){"use strict";var s=a("f882"),i=a.n(s);i.a},"1ce4":function(t,e,a){},"1d81":function(t,e,a){},"1f2e":function(t,e,a){},2:function(t,e){},2200:function(t,e,a){"use strict";var s=a("6f28"),i=a.n(s);i.a},2340:function(t,e,a){},"23a4":function(t,e,a){"use strict";var s=a("a177"),i=a.n(s);i.a},"24c2":function(t,e,a){"use strict";var s=a("0f27"),i=a.n(s);i.a},2572:function(t,e,a){"use strict";var s=a("6cd4"),i=a.n(s);i.a},"259b":function(t,e,a){"use strict";var s=a("d4c5"),i=a.n(s);i.a},2603:function(t,e,a){},2620:function(t,e,a){"use strict";var s=a("b15c"),i=a.n(s);i.a},"274e":function(t,e,a){},"2a2d":function(t,e,a){},"2a61":function(t,e,a){"use strict";var s=a("e78c"),i=a.n(s);i.a},"2e50":function(t,e,a){},"2fb6":function(t,e,a){"use strict";var s=a("55b2"),i=a.n(s);i.a},"2ffa":function(t,e,a){},3:function(t,e){},"31df":function(t,e,a){},3705:function(t,e,a){"use strict";var s=a("880d"),i=a.n(s);i.a},3775:function(t,e,a){"use strict";var s=a("62ce"),i=a.n(s);i.a},"38a3":function(t,e,a){},"398f":function(t,e,a){},"3a4b":function(t,e,a){},"3b0e":function(t,e,a){"use strict";var s=a("ec62"),i=a.n(s);i.a},"3b65":function(t,e,a){},"3c2b":function(t,e,a){},"3fbf":function(t,e,a){},4:function(t,e){},4060:function(t,e,a){"use strict";var s=a("a0d7"),i=a.n(s);i.a},"40c3":function(t,e,a){"use strict";var s=a("1ce4"),i=a.n(s);i.a},4208:function(t,e,a){},"445a":function(t,e,a){"use strict";var s=a("0627"),i=a.n(s);i.a},4617:function(t,e,a){"use strict";var s=a("a7b6"),i=a.n(s);i.a},"47a9":function(t,e,a){"use strict";var s=a("647e"),i=a.n(s);i.a},4837:function(t,e,a){},4964:function(t,e,a){"use strict";var s=a("8807"),i=a.n(s);i.a},"4a9a":function(t,e,a){"use strict";var s=a("f5f2"),i=a.n(s);i.a},"4c2a":function(t,e,a){"use strict";var s=a("d8da"),i=a.n(s);i.a},"4dc3":function(t,e,a){t.exports=a.p+"img/janus_white.808e9ef5.svg"},"4fe0":function(t,e,a){"use strict";var s=a("2603"),i=a.n(s);i.a},"54d0":function(t,e,a){"use strict";var s=a("3b65"),i=a.n(s);i.a},5528:function(t,e,a){"use strict";var s=a("f2fb"),i=a.n(s);i.a},"55b2":function(t,e,a){},"575f":function(t,e,a){},"580b":function(t,e,a){"use strict";var s=a("575f"),i=a.n(s);i.a},"5a95":function(t,e,a){},"5b67":function(t,e,a){"use strict";var s=a("9a9b"),i=a.n(s);i.a},"5cd1":function(t,e,a){"use strict";var s=a("d5b0"),i=a.n(s);i.a},"5de4":function(t,e,a){},"5e1b":function(t,e,a){"use strict";var s=a("0f3b"),i=a.n(s);i.a},"5f0b":function(t,e,a){},"62ce":function(t,e,a){},"647e":function(t,e,a){},"64e5":function(t,e,a){"use strict";var s=a("18a7"),i=a.n(s);i.a},"664a":function(t,e,a){"use strict";var s=a("ad42"),i=a.n(s);i.a},"66ff":function(t,e,a){},"67ee":function(t,e,a){"use strict";var s=a("8301"),i=a.n(s);i.a},"68a0":function(t,e,a){"use strict";var s=a("f70d"),i=a.n(s);i.a},"6a1c":function(t,e,a){"use strict";var s=a("75e2"),i=a.n(s);i.a},"6a4b":function(t,e,a){},"6aaa":function(t,e,a){"use strict";var s=a("bbff"),i=a.n(s);i.a},"6be8":function(t,e,a){},"6cd4":function(t,e,a){},"6cf3":function(t,e,a){},"6d4d":function(t,e,a){},"6f28":function(t,e,a){},"6fbd":function(t,e,a){},"70a8":function(t,e,a){"use strict";var s=a("bb14"),i=a.n(s);i.a},7255:function(t,e,a){"use strict";var s=a("38a3"),i=a.n(s);i.a},7278:function(t,e,a){"use strict";var s=a("d785"),i=a.n(s);i.a},"72d9":function(t,e,a){},"75e2":function(t,e,a){},"76c0":function(t,e,a){"use strict";var s=a("9176"),i=a.n(s);i.a},"770e":function(t,e,a){"use strict";var s=a("acd6"),i=a.n(s);i.a},7861:function(t,e,a){"use strict";var s=a("16db"),i=a.n(s);i.a},"7b00":function(t,e,a){},"7c0d":function(t,e,a){"use strict";var s=a("bdc8"),i=a.n(s);i.a},"7d9f":function(t,e,a){"use strict";var s=a("9874"),i=a.n(s);i.a},"7dc0":function(t,e,a){"use strict";var s=a("398f"),i=a.n(s);i.a},"7ee5":function(t,e,a){"use strict";var s=a("c630"),i=a.n(s);i.a},"80b7":function(t,e,a){"use strict";var s=a("d056"),i=a.n(s);i.a},8171:function(t,e,a){"use strict";var s=a("4837"),i=a.n(s);i.a},"8171e":function(t,e,a){"use strict";var s=a("6a4b"),i=a.n(s);i.a},8286:function(t,e,a){"use strict";var s=a("8795"),i=a.n(s);i.a},8301:function(t,e,a){},8434:function(t,e,a){},8485:function(t,e,a){"use strict";var s=a("1370"),i=a.n(s);i.a},"84d4":function(t,e,a){"use strict";var s=a("ebd9"),i=a.n(s);i.a},"84e6":function(t,e,a){"use strict";var s=a("8434"),i=a.n(s);i.a},8682:function(t,e,a){"use strict";var s=a("e823"),i=a.n(s);i.a},8691:function(t,e,a){},8743:function(t,e,a){},8795:function(t,e,a){},8807:function(t,e,a){},"880d":function(t,e,a){},8896:function(t,e,a){},"89dc":function(t,e,a){},"8a25":function(t,e,a){},"8a4b":function(t,e,a){},"8b39":function(t,e,a){"use strict";var s=a("c387"),i=a.n(s);i.a},"8b60":function(t,e,a){"use strict";var s=a("d412"),i=a.n(s);i.a},"8c27":function(t,e,a){},"8c86":function(t,e,a){"use strict";var s=a("3a4b"),i=a.n(s);i.a},"8c97":function(t,e,a){},"8d59":function(t,e,a){},"8edf":function(t,e,a){"use strict";var s=a("ac0d"),i=a.n(s);i.a},"8f3f":function(t,e,a){"use strict";var s=a("ac9e"),i=a.n(s);i.a},"90ee":function(t,e,a){},9176:function(t,e,a){},"93d7":function(t,e,a){"use strict";var s=a("f470"),i=a.n(s);i.a},"94a7":function(t,e,a){"use strict";var s=a("d14c"),i=a.n(s);i.a},9687:function(t,e,a){},"96eb":function(t,e,a){"use strict";var s=a("8a4b"),i=a.n(s);i.a},"97c4":function(t,e,a){"use strict";var s=a("274e"),i=a.n(s);i.a},9874:function(t,e,a){},"9a91":function(t,e,a){"use strict";var s=a("2e50"),i=a.n(s);i.a},"9a9b":function(t,e,a){},"9daa":function(t,e,a){"use strict";var s=a("6d4d"),i=a.n(s);i.a},"9ec5":function(t,e,a){"use strict";var s=a("8c97"),i=a.n(s);i.a},a0d7:function(t,e,a){},a177:function(t,e,a){},a41f:function(t,e,a){"use strict";var s=a("5f0b"),i=a.n(s);i.a},a513:function(t,e,a){"use strict";var s=a("d768"),i=a.n(s);i.a},a716:function(t,e,a){"use strict";var s=a("3c2b"),i=a.n(s);i.a},a7b6:function(t,e,a){},a866:function(t,e,a){},aa9d:function(t,e,a){"use strict";var s=a("5a95"),i=a.n(s);i.a},ac0d:function(t,e,a){},ac9e:function(t,e,a){},acd6:function(t,e,a){},ad42:function(t,e,a){},af1f:function(t,e,a){},b075:function(t,e,a){"use strict";var s=a("1d81"),i=a.n(s);i.a},b15c:function(t,e,a){},b3fe:function(t,e,a){"use strict";var s=a("08de"),i=a.n(s);i.a},b467:function(t,e,a){},b64a:function(t,e,a){"use strict";var s=a("d45d"),i=a.n(s);i.a},b7f8:function(t,e,a){"use strict";var s=a("2340"),i=a.n(s);i.a},ba21:function(t,e,a){},bb14:function(t,e,a){},bbff:function(t,e,a){},bdc8:function(t,e,a){},bdf9:function(t,e,a){"use strict";var s=a("173d"),i=a.n(s);i.a},bf4d:function(t,e,a){"use strict";var s=a("19fd"),i=a.n(s);i.a},c0df:function(t,e,a){"use strict";var s=a("fdc4"),i=a.n(s);i.a},c387:function(t,e,a){},c630:function(t,e,a){},c9f8:function(t,e,a){"use strict";var s=a("ba21"),i=a.n(s);i.a},ca97:function(t,e,a){"use strict";var s=a("5de4"),i=a.n(s);i.a},cd0b:function(t,e,a){"use strict";var s=a("a866"),i=a.n(s);i.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"themecolor_1",class:t.getProfile.theme,attrs:{id:"app"}},[a("Notification"),a("Container")],1)},n=[],r=a("5530"),o=a("2f62"),c={theme:"theme_dark",space:"",auth:{},sidebar:!0},l={getProfile:function(t){return t}},d={setTheme:function(t,e){var a=t.commit;a("UPDATE_PROFILE",Object(r["a"])({},c,{theme:e}))},setSpace:function(t,e){var a=t.commit;a("UPDATE_PROFILE",Object(r["a"])({},c,{space:e}))},addAuth:function(t,e){var a=t.commit,s=t.dispatch,i=e.auth;a("UPDATE_PROFILE",Object(r["a"])({},c,{auth:i})),s("fetchProjects"),s("fetchStages"),s("fetchProjectTeams"),s("fetchTeamMembers"),s("fetchUsers"),s("fetchRoles"),s("fetchTeams")},removeAuth:function(t,e){var a=t.commit;e.remove("janus_".concat(c.space)),a("UPDATE_PROFILE",Object(r["a"])({},c,{auth:{}}))},toggleSidebar:function(t){var e=t.commit;e("UPDATE_PROFILE",Object(r["a"])({},c,{sidebar:!c.sidebar}))}},u={UPDATE_PROFILE:function(t,e){t.theme=e.theme,t.space=e.space,t.auth=e.auth,t.sidebar=e.sidebar}},m={state:c,getters:l,actions:d,mutations:u},h=(a("99af"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("2532"),a("159b"),a("96cf"),a("1da1")),p=a("bc3a"),g=a.n(p),f=a("2bd2"),v=(a("11c1"),new f["a"]);function b(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;v.next({name:t,signal:e,data:a})}function k(){return v.asObservable()}function _(){return Math.random()}function y(t,e,a){b("notification",!0,{id:t,type:"running",message:"".concat(e," ").concat(a?"(".concat(a,")"):""," - In progress")})}function C(t,e,a,s){return 200===e.status?(b("notification",!0,{id:t,type:"success",message:"".concat(a," ").concat(s?"(".concat(s,")"):""," - Success"),duration:3e3}),!0):(b("notification",!0,{id:t,type:"failure",message:"".concat(a," ").concat(s?"(".concat(s,")"):""," - Failed with error ").concat(e.status),duration:3e3}),!1)}function T(t,e,a,s){return b("notification",!0,{id:t,type:"failure",message:"".concat(a," ").concat(s?"(".concat(s,")"):""," - Failed with ").concat(e)}),!1}a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("5319"),a("1276");function j(t){return null===t||null!==t.match(/^ *$/)}function O(t){return null!==t&&""!==t&&(t=t.toString(),t.replace(/(<([^>]+)>)/gi,""))}function w(t,e,a){var s=sessionStorage.getItem(t),i={};s&&(i=JSON.parse(s)),e?i[e]=a:i=a,sessionStorage.setItem(t,JSON.stringify(i))}function S(t,e){var a=sessionStorage.getItem(t);if(a){var s=JSON.parse(a);return e?s[e]:s}return a}var P="https://janus-service.herokuapp.com",I={tasks:Array(),taskToView:Array()},x={getTasks:function(t){return t.tasks},getEpicTasks:function(t){return t.tasks.filter((function(t){return"Epic"===t.type}))},getTasksByStage:function(t){return function(e){return t.tasks.filter((function(t){return t.stageId===e}))}},getTasksByStageSorted:function(t,e){return function(t,a,s){var i=e.getTasksByStage(t).filter((function(t){var e=!0;return null===s||void 0===s||s.forEach((function(a){var s,i;if(!e)return e;e=a.field?"assignedTo"===a.field?!(!t[a.field]||!t[a.field].includes(a.text)):a.text===t[a.field]:!!((null===(s=t.title)||void 0===s?void 0:s.toLowerCase().includes(a.text.toLowerCase()))||(null===(i=t.taskId)||void 0===i?void 0:i.toLowerCase().includes(a.text.toLowerCase())))})),e}));return j(a.field)?i:i.sort((function(t,s){var i="",n="";if("assignedTo"===a.field){var r,o,c,l,d=e.getUserById(t[a.field]),u=e.getUserById(s[a.field]);i=d?(null===(r=d.firstName)||void 0===r?void 0:r.toLowerCase())+(null===(o=d.lastName)||void 0===o?void 0:o.toLowerCase()):"",n=u?(null===(c=u.firstName)||void 0===c?void 0:c.toLowerCase())+(null===(l=u.lastName)||void 0===l?void 0:l.toLowerCase()):""}else{var m,h;i=null===(m=t[a.field])||void 0===m?void 0:m.toLowerCase(),n=null===(h=s[a.field])||void 0===h?void 0:h.toLowerCase()}return i>n?a.ascending?1:-1:i<n?a.ascending?-1:1:0}))}},getTaskByTaskId:function(t){return function(e){return t.tasks.find((function(t){return t.taskId===e}))}},getTaskById:function(t){return function(e){return t.tasks.find((function(t){return t._id===e}))}},getTaskToView:function(t){return t.taskToView},getSubtasksByTaskId:function(t){return function(e){return t.tasks.filter((function(t){return t.parentTaskId===e||t.epic===e}))}}},E={fetchTasks:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(P,"/task/").concat(a.profile.space,"/").concat(a.project.project._id),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:i=t.sent,n=S(null===(s=a.project)||void 0===s?void 0:s._id,"recentTasks"),e("UPDATE_TASK_TO_VIEW",n||[]),e("UPDATE_TASKS",i.data.data);case 6:case"end":return t.stop()}}),t)})))()},saveTask:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Save Task",n=_(),y(n,i,e.title.substring(0,10)),t.prev=3,t.next=6,g.a.put("".concat(P,"/task/").concat(s.profile.space,"/").concat(e.projectId),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:return r=t.sent,o=C(n,r,i,e.title.substring(0,10)),o&&(a("fetchTasks"),a("fetchLogs",{domain:"Task",reference:e._id})),t.abrupt("return",o);case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",T(n,t.t0,i,e.title.substring(0,10)));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()},moveTask:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Move Task",n=I.tasks.find((function(t){return t._id===e.moveTaskId})),r=_(),y(r,i,null===n||void 0===n?void 0:n.taskId),t.prev=4,t.next=7,g.a.post("".concat(P,"/task/").concat(s.profile.space,"/").concat(s.project.project._id,"/move"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 7:return o=t.sent,c=C(r,o,i,null===n||void 0===n?void 0:n.taskId),c&&a("fetchTasks"),t.abrupt("return",c);case 13:return t.prev=13,t.t0=t["catch"](4),t.abrupt("return",T(r,t.t0,i,null===n||void 0===n?void 0:n.taskId));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()},addTaskToView:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState);if(!I.taskToView.includes(e)){var i,n=I.taskToView;n.push(e),a("UPDATE_TASK_TO_VIEW",n),w(null===(i=s.project)||void 0===i?void 0:i._id,"recentTasks",n)}}},B={UPDATE_TASKS:function(t,e){t.tasks=e},UPDATE_TASK_TO_VIEW:function(t,e){t.taskToView=e}},A={state:I,getters:x,actions:E,mutations:B},D=(a("b0c0"),{projects:[],projectId:"",project:null}),$="https://janus-service.herokuapp.com",M=function(t){var e;if((null===(e=D.projects)||void 0===e?void 0:e.length)>0){var a=D.projects.filter((function(e){return e._id===t}));if(1===a.length)return a[0]}return null},N={getProjects:function(t){return t.projects},getProject:function(t){return t.project},getProjectById:function(t){return function(t){return M(t)}}},R={fetchProjects:function(t){var e=t.commit,a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat($,"/project/").concat(s.profile.space),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,e("UPDATE_PROJECTS",i.data.data),a("chooseProject",D.projectId);case 5:case"end":return t.stop()}}),t)})))()},chooseProject:function(t,e){var a=t.commit,s=t.dispatch,i=M(e);a("UPDATE_PROJECT",{projectId:e,project:i}),null!=i&&(s("fetchStages"),s("fetchTasks"))},saveProject:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Save Project",n=_(),y(n,i,e.name.substring(0,10)),t.prev=3,t.next=6,g.a.put("".concat($,"/project/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:return r=t.sent,o=C(n,r,i,e.name.substring(0,10)),o&&a("fetchProjects"),t.abrupt("return",o);case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",T(n,t.t0,i,e.name.substring(0,10)));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()}},L={UPDATE_PROJECTS:function(t,e){t.projects=e},UPDATE_PROJECT:function(t,e){t.project=e.project,t.projectId=e.projectId}},U={state:D,getters:N,actions:R,mutations:L},V="https://janus-service.herokuapp.com",z={projectTeams:[]},F={getProjectTeams:function(t){return t.projectTeams},getProjectTeamsByProjectId:function(t){return function(e){return t.projectTeams.filter((function(t){return t.projectId===e}))}},getProjectTeamsByTeamId:function(t){return function(e){return t.projectTeams.filter((function(t){return t.teamId===e}))}}},H={fetchProjectTeams:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(V,"/projectteam/").concat(a.profile.space,"/"),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:s=t.sent,e("UPDATE_PROJECT_TEAMS",s.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveProjectTeam:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:"Adding project team (".concat(e.teamId," - ").concat(e.projectId,")")}),t.next=4,g.a.post("".concat(V,"/projectteam/").concat(s.profile.space,"/").concat(e.projectId,"/").concat(e.teamId),null,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:"Added project team (".concat(e.teamId," - ").concat(e.projectId,")"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:"Project team failed to create (".concat(e.teamId," - ").concat(e.projectId,")")}),a("fetchProjectTeams");case 7:case"end":return t.stop()}}),t)})))()},deleteProjectTeam:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:"Deleting project team (".concat(e,")")}),t.next=4,g.a.delete("".concat(V,"/projectteam/").concat(s.profile.space,"/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:"Deleted project team (".concat(e,")"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:"Project team failed to delete (".concat(e,")")}),a("fetchProjectTeams");case 7:case"end":return t.stop()}}),t)})))()}},G={UPDATE_PROJECT_TEAMS:function(t,e){t.projectTeams=e}},q={state:z,getters:F,actions:H,mutations:G},K="https://janus-service.herokuapp.com",J={teamMembers:[]},W={getTeamsMembers:function(t){return t.teamMembers},getTeamsMembersByUserId:function(t){return function(e){return t.teamMembers.filter((function(t){return t.userId===e}))}},getTeamMembersByTeamId:function(t){return function(e){return t.teamMembers.filter((function(t){return t.teamId===e}))}},getTeamMembersByTeamIdList:function(t){return function(e){return t.teamMembers.filter((function(t){return e.includes(t.teamId)}))}}},Y={fetchTeamMembers:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(K,"/teammember/").concat(a.profile.space,"/"),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:s=t.sent,e("UPDATE_TEAM_MEMBERS",s.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveTeamMember:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:"Adding team member (".concat(e.userId," - ").concat(e.teamId,")")}),t.next=4,g.a.post("".concat(K,"/teammember/").concat(s.profile.space,"/").concat(e.teamId,"/").concat(e.userId),null,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:"Added team member (".concat(e.userId," - ").concat(e.teamId,")"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:"team member failed to create (".concat(e.userId," - ").concat(e.teamId,")")}),a("fetchTeamMembers");case 7:case"end":return t.stop()}}),t)})))()},deleteTeamMember:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:"Deleting team member (".concat(e,")")}),t.next=4,g.a.delete("".concat(K,"/teammember/").concat(s.profile.space,"/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:"Deleted team member (".concat(e,")"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:"team member failed to delete (".concat(e,")")}),a("fetchTeamMembers");case 7:case"end":return t.stop()}}),t)})))()}},X={UPDATE_TEAM_MEMBERS:function(t,e){t.teamMembers=e}},Q={state:J,getters:W,actions:Y,mutations:X},Z="https://janus-service.herokuapp.com",tt={teams:[],teamId:"",team:null},et=function(t){var e;if(!t)return null;if((null===(e=tt.teams)||void 0===e?void 0:e.length)>0){var a=tt.teams.filter((function(e){return e._id===t}));if(1===a.length)return a[0]}return null},at={getTeams:function(t){return t.teams},getTeam:function(t){return t.team},findTeamById:function(t){return function(t){return et(t)}}},st={fetchTeams:function(t){var e=t.commit,a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(Z,"/team/").concat(s.profile.space,"/"),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,e("UPDATE_TEAMS",i.data.data),a("chooseTeam",tt.teamId);case 5:case"end":return t.stop()}}),t)})))()},chooseTeam:function(t,e){var a=t.commit,s=(t.dispatch,et(e));a("UPDATE_TEAM",{teamId:e,team:s})},deleteTeam:function(t,e){var a=t.commit,s=t.dispatch,i=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=_(),b("notification",!0,{id:n,type:"running",message:"Deleting team (".concat(e,")")}),t.next=4,g.a.delete("".concat(Z,"/team/").concat(i.profile.space,"/").concat(e),{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(i.profile.auth.token)}});case 4:r=t.sent,200===r.status?b("notification",!0,{id:n,type:"success",message:"Team (".concat(e,") deleted"),duration:3e3}):b("notification",!0,{id:n,type:"failure",message:"Team (".concat(e,") failed to delete")}),a("REMOVE_TEAM",r.data.data),s("fetchTeams");case 8:case"end":return t.stop()}}),t)})))()},saveTeam:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Save Team",n=_(),y(n,i,e.name.substring(0,10)),t.prev=3,t.next=6,g.a.put("".concat(Z,"/team/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:return r=t.sent,o=C(n,r,i,e.name.substring(0,10)),o&&a("fetchTeams"),t.abrupt("return",o);case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",T(n,t.t0,i,e.name.substring(0,10)));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()}},it={UPDATE_TEAMS:function(t,e){t.teams=e},UPDATE_TEAM:function(t,e){t.team=e.team,t.teamId=e.teamId},REMOVE_TEAM:function(t){t.team=null,t.teamId=null}},nt={state:tt,getters:at,actions:st,mutations:it},rt="https://janus-service.herokuapp.com",ot={stages:[]},ct={getStagesByProjectId:function(t,e){return function(a){var s,i=a;i||(i=null===(s=e.getProject)||void 0===s?void 0:s._id);return i?t.stages.filter((function(t){return t.projectId===i})):[]}}},lt={fetchStages:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(rt,"/stage/").concat(a.profile.space),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:s=t.sent,e("UPDATE_STAGES",s.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveStage:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Save Workflow Stage",n=_(),y(n,i,e.name.substring(0,10)),t.prev=3,t.next=6,g.a.put("".concat(rt,"/stage/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:return r=t.sent,o=C(n,r,i,e.name.substring(0,10)),o&&a("fetchStages"),t.abrupt("return",o);case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",T(n,t.t0,i,e.name.substring(0,10)));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()},deleteStage:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Delete Workflow Stage",n=_(),r=ot.stages.find((function(t){return t._id===e})),y(n,i,null===r||void 0===r?void 0:r.name),t.prev=4,t.next=7,g.a.delete("".concat(rt,"/stage/").concat(s.profile.space,"/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 7:return o=t.sent,c=C(n,o,i,null===r||void 0===r?void 0:r.name),c&&a("fetchStages"),t.abrupt("return",c);case 13:return t.prev=13,t.t0=t["catch"](4),t.abrupt("return",T(n,t.t0,i,null===r||void 0===r?void 0:r.name));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})))()},moveStage:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=ot.stages.find((function(t){return t._id===e.moveStageId})),n=_(),b("notification",!0,{id:n,type:"running",message:"Moving stage (".concat(null===i||void 0===i?void 0:i.stageId,"})")}),t.prev=3,t.next=6,g.a.post("".concat(rt,"/stage/").concat(s.profile.space,"/").concat(s.project.project._id,"/move"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:r=t.sent,200===r.status?b("notification",!0,{id:n,type:"success",message:"Stage (".concat(null===i||void 0===i?void 0:i.stageId,") moved"),duration:3e3}):b("notification",!0,{id:n,type:"failure",message:"Stage (".concat(null===i||void 0===i?void 0:i.stageId,"}) failed to move")}),a("fetchStages"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),b("notification",!0,{id:n,type:"error",message:"Stage (".concat(null===i||void 0===i?void 0:i.stageId,") failed to move")});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}},dt={UPDATE_STAGES:function(t,e){t.stages=e}},ut={state:ot,getters:ct,actions:lt,mutations:dt},mt="https://janus-service.herokuapp.com",ht={users:[]},pt={getUsers:function(t){return t.users},getUserById:function(t){return function(e){return t.users.find((function(t){return t._id===e}))}},getUserByEmail:function(t){return function(e){return t.users.find((function(t){return t.email===e}))}}},gt={fetchUsers:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(mt,"/user/").concat(a.profile.space,"/all"),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:s=t.sent,e("UPDATE_USERS",s.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveUser:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="Save user profile",n=_(),y(n,i,"".concat(e.firstName," ").concat(e.lastName).substring(0,10)),t.prev=3,t.next=6,g.a.put("".concat(mt,"/user/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 6:return r=t.sent,o=C(n,r,i,"".concat(e.firstName," ").concat(e.lastName).substring(0,10)),o&&a("fetchUsers"),t.abrupt("return",o);case 12:return t.prev=12,t.t0=t["catch"](3),t.abrupt("return",T(n,t.t0,i,"".concat(e.firstName," ").concat(e.lastName).substring(0,10)));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()}},ft={UPDATE_USERS:function(t,e){t.users=e}},vt={state:ht,getters:pt,actions:gt,mutations:ft},bt={images:[],pagination:{total:0,totalPages:0}},kt={getImages:function(t){return t.images},getImagesPagination:function(t){return t.pagination}},_t={searchImages:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState,e.searchText),i=e.pageNo,n=e.rowsPerPage;return Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("https://api.unsplash.com/search/photos?per_page=".concat(n,"&orientation=landscape&page=").concat(i,"&query=").concat(s),{headers:{Authorization:"Client-ID Xl_6B6bjPNClBPKmmj_uicb2KYmF9_4B-OTS-sl9J2o"}});case 2:e=t.sent,a("UPDATE_IMAGES",e.data.results),a("UPDATE_PAGINATION",{total:e.data.total,totalPages:e.data.total_pages});case 5:case"end":return t.stop()}}),t)})))()},clearImages:function(t){var e=t.commit;e("UPDATE_IMAGES",[]),e("UPDATE_PAGINATION",{total:0,totalPages:0})}},yt={UPDATE_IMAGES:function(t,e){t.images=e},UPDATE_PAGINATION:function(t,e){t.pagination=e}},Ct={state:bt,getters:kt,actions:_t,mutations:yt},Tt="https://janus-service.herokuapp.com",jt={comments:[]},Ot={getCommentsForTask:function(t,e){return t.comments}},wt={fetchTaskComments:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(Tt,"/comment/task/").concat(s.profile.space,"/task/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,a("UPDATE_TASK_COMMENTS",i.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveTaskComment:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.put("".concat(Tt,"/comment/task/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:t.sent,a("fetchTaskComments",e.taskId);case 4:case"end":return t.stop()}}),t)})))()}},St={UPDATE_TASK_COMMENTS:function(t,e){t.comments=e}},Pt={state:jt,getters:Ot,actions:wt,mutations:St},It="https://janus-service.herokuapp.com",xt={Task:[]},Et={getLogs:function(t,e){return function(e){return t[e]}}},Bt={fetchLogs:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(It,"/log/").concat(s.profile.space,"/").concat(e.domain,"/").concat(e.reference),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,a("UPDATE_LOGS",{domain:e.domain,logs:i.data.data});case 4:case"end":return t.stop()}}),t)})))()}},At={UPDATE_LOGS:function(t,e){t[e.domain]=e.logs}},Dt={state:xt,getters:Et,actions:Bt,mutations:At},$t="https://janus-service.herokuapp.com",Mt={roles:[],didInitialize:!1},Nt={getRoleInitializeStatus:function(t){return function(){return t.didInitialize}},getRolesByProjectId:function(t){return function(e){return t.roles.filter((function(t){return"ProjectAdministrator"===t.type&&t.domainId===e}))}},getRolesByTeamId:function(t){return function(e){return t.roles.filter((function(t){return"TeamAdministrator"===t.type&&t.domainId===e}))}}},Rt={fetchRoles:function(t){var e=t.commit,a=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat($t,"/role/").concat(a.profile.space,"/"),{headers:{Authorization:"".concat(a.profile.auth.token)}});case 2:s=t.sent,e("UPDATE_ROLES",s.data.data);case 4:case"end":return t.stop()}}),t)})))()},deleteRole:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:"Deleting role (".concat(e,")")}),t.next=4,g.a.delete("".concat($t,"/role/").concat(s.profile.space,"/").concat(e),{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:"Role (".concat(e,") deleted"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:"Role (".concat(e,") failed to delete")}),a("fetchRoles");case 7:case"end":return t.stop()}}),t)})))()},saveRole:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=_(),b("notification",!0,{id:i,type:"running",message:e._id?"Updating role (".concat(e.userId,")"):"Creating role (".concat(e.userId,")")}),t.next=4,g.a.put("".concat($t,"/role/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 4:n=t.sent,200===n.status?b("notification",!0,{id:i,type:"success",message:e._id?"Role (".concat(e.userId,") updated"):"Role (".concat(e.userId,") created"),duration:3e3}):b("notification",!0,{id:i,type:"failure",message:e._id?"Role (".concat(e.name,") failed to update"):"Role (".concat(e.name,") failed to create")}),a("fetchRoles");case 7:case"end":return t.stop()}}),t)})))()}},Lt={UPDATE_ROLES:function(t,e){t.roles=e,t.didInitialize=!0}},Ut={state:Mt,getters:Nt,actions:Rt,mutations:Lt},Vt=(a("a630"),a("6062"),a("3ca3"),a("ddb0"),"https://janus-service.herokuapp.com"),zt={checklistitems:[]},Ft={getChecklistGroups:function(t,e){var a=[];return t.checklistitems.forEach((function(t){a.push(t.group)})),Array.from(new Set(a))},getChecklistItemsByGroup:function(t,e){return function(e){return t.checklistitems.filter((function(t){return t.group===e}))}}},Ht={fetchTaskChecklistitems:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(Vt,"/checklistitem/task/").concat(s.profile.space,"/task/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,a("UPDATE_TASK_CHECKLISTITEMS",i.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveTaskChecklistitem:function(t,e){t.commit;var a=t.dispatch,s=t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.put("".concat(Vt,"/checklistitem/task/").concat(s.profile.space,"/"),e,{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:t.sent,a("fetchTaskChecklistitems",e.taskId);case 4:case"end":return t.stop()}}),t)})))()},deleteTaskChecklistitem:function(t,e){t.commit;var a=t.dispatch,s=t.rootState,i=e.taskId,n=e.checklistitemId;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.delete("".concat(Vt,"/checklistitem/task/").concat(s.profile.space,"/").concat(n),{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(s.profile.auth.token)}});case 2:t.sent,a("fetchTaskChecklistitems",i);case 4:case"end":return t.stop()}}),t)})))()}},Gt={UPDATE_TASK_CHECKLISTITEMS:function(t,e){t.checklistitems=e}},qt={state:zt,getters:Ft,actions:Ht,mutations:Gt},Kt="https://janus-service.herokuapp.com",Jt={attachments:[]},Wt={getAttachmentsForTask:function(t,e){return t.attachments}},Yt={fetchTaskAttachments:function(t,e){var a=t.commit,s=(t.dispatch,t.rootState);return Object(h["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(Kt,"/attachment/task/").concat(s.profile.space,"/task/").concat(e),{headers:{Authorization:"".concat(s.profile.auth.token)}});case 2:i=t.sent,a("UPDATE_TASK_ATTACHMENTS",i.data.data);case 4:case"end":return t.stop()}}),t)})))()},saveTaskAttachment:function(t,e){t.commit;var a=t.dispatch,s=t.rootState,i=e.attachment,n=e.taskId;return Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("attachment",i,i.name),e.append("taskId",n),t.next=5,g.a.post("".concat(Kt,"/attachment/task/").concat(s.profile.space,"/"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(s.profile.auth.token)}});case 5:t.sent,a("fetchTaskAttachments",n);case 7:case"end":return t.stop()}}),t)})))()},deleteTaskAttachment:function(t,e){t.commit;var a=t.dispatch,s=t.rootState,i=e.taskId,n=e.attachmentId;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.delete("".concat(Kt,"/attachment/task/").concat(s.profile.space,"/").concat(n),{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(s.profile.auth.token)}});case 2:t.sent,a("fetchTaskAttachments",i);case 4:case"end":return t.stop()}}),t)})))()}},Xt={UPDATE_TASK_ATTACHMENTS:function(t,e){t.attachments=e}},Qt={state:Jt,getters:Wt,actions:Yt,mutations:Xt},Zt={spaces:[]},te="https://oneauth-service.herokuapp.com",ee={getSpaces:function(t){return t.spaces}},ae={fetchSpaces:function(t){var e=t.commit;t.dispatch,t.rootState;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("".concat(te,"/space/introspect"));case 2:a=t.sent,e("UPDATE_SPACES",a.data.data);case 4:case"end":return t.stop()}}),t)})))()}},se={UPDATE_SPACES:function(t,e){t.spaces=e}},ie={state:Zt,getters:ee,actions:ae,mutations:se};s["a"].use(o["a"]);var ne=new o["a"].Store({state:{},mutations:{},actions:{},modules:{profile:m,task:A,project:U,team:nt,role:Ut,projectTeam:q,teamMember:Q,stage:ut,user:vt,image:Ct,taskComment:Pt,log:Dt,taskChecklistitem:qt,taskAttachment:Qt,space:ie}}),re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.notificationList.length>0?a("div",{staticClass:"notification"},t._l(t.notificationList.slice(0,5).reverse(),(function(e){return a("div",{key:e.id},[a("NotificationMessage",{attrs:{notification:e},on:{remove:function(){return t.removeNotification(e)}}})],1)})),0):t._e(),t.spinner?a("div",{staticClass:"lds-dual-ring"}):t._e()])},oe=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message",class:t.notification.type},["running"===t.notification.type?a("div",{staticClass:"message-icon",class:"running"===t.notification.type?"running":""},[a("i",{staticClass:"material-icons"},[t._v("rotate_right")])]):t._e(),"success"===t.notification.type?a("div",{staticClass:"message-icon"},[a("i",{staticClass:"material-icons"},[t._v("check_circle_outline")])]):t._e(),"warning"===t.notification.type?a("div",{staticClass:"message-icon"},[a("i",{staticClass:"material-icons"},[t._v("warning")])]):t._e(),"failure"===t.notification.type?a("div",{staticClass:"message-icon"},[a("i",{staticClass:"material-icons"},[t._v("error_outline")])]):t._e(),a("div",{staticClass:"message-text"},[t._v(" "+t._s(t.notification?t.notification.message:"")+" ")]),a("div",{staticClass:"message-action"},[a("i",{staticClass:"material-icons",on:{click:function(e){return t.$emit("remove")}}},[t._v("clear")])])])},le=[],de={name:"NotificationMessage",props:{notification:Object}},ue=de,me=(a("fe67"),a("2877")),he=Object(me["a"])(ue,ce,le,!1,null,"fac5f214",null),pe=he.exports,ge={name:"Notification",components:{NotificationMessage:pe},data:function(){return{spinner:!1,notificationList:[]}},methods:{removeNotification:function(t){this.notificationList=this.notificationList.filter((function(e){return e.id!==t.id}))},addNotification:function(t){var e=this;this.notificationList.unshift(t),t.duration?setTimeout((function(){e.removeNotification(t)}),t.duration):t.id||setTimeout((function(){e.removeNotification(t)}),5e3)}},created:function(){var t=this;this.eventBus=k().subscribe((function(e){"notification"===e.name&&(e.signal?(t.removeNotification(e.data),t.addNotification(e.data)):t.removeNotification(e.data)),"spinner"===e.name&&(t.spinner=e.signal)}))},beforeDestroy:function(){this.eventBus.unsubscribe()}},fe=ge,ve=(a("80b7"),Object(me["a"])(fe,re,oe,!1,null,"53960887",null)),be=ve.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getProfile.space?a("div",{staticClass:"app-container"},[a("div",{staticClass:"sidebar-container",class:t.getProfile.sidebar?"show":"hide"},[a("div",{staticClass:"sidebar-content"},[a("Sidebar",{on:{sidebarToggled:t.toggleSidebar}})],1)]),a("div",{staticClass:"maincontent-container"},[a("div",{staticClass:"topbar-container",class:t.getProfile.sidebar?"sidebar-shown":"sidebar-hidden"},[a("Topbar",{on:{sidebarToggled:t.toggleSidebar}})],1),a("div",{staticClass:"maincontent-container",class:t.getProfile.sidebar?"sidebar-shown":"sidebar-hidden"},[a("AppRouterView")],1)])]):a("div",{staticClass:"landing-container"},[a("AppRouterView")],1)])},_e=[],ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("Header",{on:{sidebarToggled:function(e){return t.$emit("sidebarToggled")}}}),a("CommonNav"),a("ProjectNav"),a("TeamNav"),a("HelpNav"),a("ThemeNav")],1)},Ce=[],Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navigation"},[a("router-link",{staticClass:"test",attrs:{to:"/"+t.getProfile.space+"/home"}},[t._v(" Home ")])],1)},je=[],Oe={name:"Navigation",computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),methods:Object(r["a"])({},Object(o["b"])(["removeAuth"]),{logout:function(){this.removeAuth(this.$cookies)}})},we=Oe,Se=(a("259b"),Object(me["a"])(we,Te,je,!1,null,"6f4ac40c",null)),Pe=Se.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navigation"},[a("div",{staticClass:"headline",on:{click:t.toggle}},[a("div",[t._v("Projects")]),a("div",[a("i",{staticClass:"material-icons",class:t.isExpanded?"showless":"showmore"},[t._v("expand_more")])])]),a("div",{ref:"container",staticClass:"container"},t._l(t.getProjects,(function(e){return a("div",{key:e._id,staticClass:"project-container"},[a("router-link",{class:t.$route.path.startsWith("/"+t.getProfile.space+"/"+e._id)?"project-route-active":"",attrs:{to:"/"+t.getProfile.space+"/"+e._id+"/dashboard?view=board"}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])},xe=[],Ee={name:"ProjectNav",data:function(){return{isExpanded:!0}},mounted:function(){this.updateScrollHeight()},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProjects"])),methods:{toggle:function(){this.isExpanded=!this.isExpanded},updateScrollHeight:function(){var t=this;setTimeout((function(){t.isExpanded?t.$refs.container.style.maxHeight=t.$refs.container.scrollHeight+"px":t.$refs.container.style.maxHeight="0px"}),0)}},watch:{getProjects:function(){this.updateScrollHeight()},isExpanded:function(){this.updateScrollHeight()}}},Be=Ee,Ae=(a("7c0d"),Object(me["a"])(Be,Ie,xe,!1,null,"72aac89e",null)),De=Ae.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navigation"},[a("div",{staticClass:"headline",on:{click:t.toggle}},[a("div",[t._v("Teams")]),a("div",[a("i",{staticClass:"material-icons",class:t.isExpanded?"showless":"showmore"},[t._v("expand_more")])])]),a("div",{ref:"container",staticClass:"container"},t._l(t.getTeams,(function(e){return a("div",{key:e._id,staticClass:"team-container"},[a("router-link",{class:t.$route.path.startsWith("/"+t.getProfile.space+"/"+e._id)?"team-route-active":"",attrs:{to:"/"+t.getProfile.space+"/"+e._id+"/team/members"}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])},Me=[],Ne={name:"TeamNav",data:function(){return{isExpanded:!0}},mounted:function(){this.updateScrollHeight()},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getTeams"])),methods:{toggle:function(){this.isExpanded=!this.isExpanded},updateScrollHeight:function(){var t=this;setTimeout((function(){t.isExpanded?t.$refs.container.style.maxHeight=t.$refs.container.scrollHeight+"px":t.$refs.container.style.maxHeight="0px"}),0)}},watch:{getTeams:function(){this.updateScrollHeight()},isExpanded:function(){this.updateScrollHeight()}}},Re=Ne,Le=(a("8485"),Object(me["a"])(Re,$e,Me,!1,null,"55ca877e",null)),Ue=Le.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"theme"},["theme_dark"===t.getProfile.theme?a("div",{staticClass:"action-icon",on:{click:function(e){return t.setTheme("theme_light")}}},[a("OakIcon",{attrs:{mat:"brightness_low",color:"white"}})],1):a("div",{staticClass:"action-icon",on:{click:function(e){return t.setTheme("theme_dark")}}},[a("OakIcon",{attrs:{mat:"nights_stay",color:"white"}})],1)])},ze=[],Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-icon"},[t.mat?a("i",{staticClass:"material-icons",style:Object.assign({},t.primaryStyle,t.dimension)},[t._v(" "+t._s(t.mat)+" ")]):t._e(),t.fa?a("i",{staticClass:"fontawesome-icons",class:t.fa,style:Object.assign({},t.primaryStyle,t.dimension)}):t._e(),"epic"===t.svg?a("EpicIcon",{attrs:{primaryStyle:t.primaryStyle,accentStyle:t.accent?t.accentStyle:{},dimension:t.dimension}}):t._e(),"ioak"===t.svg?a("IoakIcon",{attrs:{primaryStyle:t.primaryStyle,accentStyle:t.accent?t.accentStyle:{},dimension:t.dimension}}):t._e()],1)},He=[],Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{style:t.dimension,attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24","enable-background":"new 0 0 24 24","xml:space":"preserve"}},[a("path",{attrs:{fill:"none",d:"M0,0h24v24H0V0z"}}),a("path",{style:t.primaryStyle,attrs:{d:"M20.2,7.3c0.8,1.4,1.3,3,1.3,4.7c0,5.2-4.2,9.5-9.5,9.5S2.5,17.2,2.5,12S6.8,2.5,12,2.5c0.6,0,1.1,0.1,1.7,0.2l0.2-1.8\n\tc-0.6-0.1-1.2-0.2-1.8-0.2C5.8,0.7,0.7,5.8,0.7,12c0,6.2,5.1,11.3,11.3,11.3c6.2,0,11.3-5.1,11.3-11.3c0-2-0.5-3.9-1.4-5.5L20.2,7.3\n\tz"}})])},qe=[],Ke={name:"EpicIcon",props:{primaryStyle:Object,accentStyle:Object,dimension:Object}},Je=Ke,We=Object(me["a"])(Je,Ge,qe,!1,null,null,null),Ye=We.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{style:t.dimension,attrs:{viewBox:"0 0 73 73"}},[a("polygon",{attrs:{fill:"#27AAE1",points:"38.5,-3.8 37.9,-3.8 37.9,-3.8 38.5,-3.8 "}}),a("g",[a("path",{style:t.accentStyle,attrs:{fill:"#149ED9",d:"M27.6,23c2.6-1.8,5.8-2.9,9.3-2.9c3.4,0,6.6,1.1,9.3,2.9l6.3-7.5c-4.3-3.2-9.7-5.2-15.6-5.2\n\t\tc-5.8,0-11.2,1.9-15.6,5.2L27.6,23z"}}),a("rect",{style:t.primaryStyle,attrs:{x:"32",y:"37.4",width:"9.8",height:"25.6"}}),a("circle",{style:Object.assign({},t.primaryStyle,{fill:"none"}),attrs:{fill:"none",stroke:"#000000","stroke-width":"9.75","stroke-miterlimit":"10",cx:"36.9",cy:"36.5",r:"30.9"}}),a("polygon",{attrs:{fill:"#27AAE1",points:"37.2,-3.9 36.6,-3.9 36.6,-3.9 37.2,-3.9 \t"}}),a("circle",{style:t.primaryStyle,attrs:{cx:"36.9",cy:"32.8",r:"7.8"}})])])},Qe=[],Ze={name:"IoakIcon",props:{primaryStyle:Object,accentStyle:Object,dimension:Object}},ta=Ze,ea=Object(me["a"])(ta,Xe,Qe,!1,null,null,null),aa=ea.exports,sa={name:"OakIcon",components:{EpicIcon:Ye,IoakIcon:aa},props:{mat:String,svg:String,fa:String,size:String,color:String,accent:String},computed:{dimension:function(){var t={};return t.fontSize=this.size?this.size:"24px",t.height=this.size?this.size:"24px",t.width="auto",t},primaryStyle:function(){return this.getStyle(this.color)},accentStyle:function(){return this.getStyle(this.accent)}},methods:{getStyle:function(t){var e={},a="";switch(t){case"primary":a="var(--color-primary-1)";break;case"secondary":a="var(--color-secondary-1)";break;case"tertiary":a="var(--color-tertiary-1)";break;case"success":a="var(--color-success)";break;case"failure":a="var(--color-failure)";break;case"warning":a="var(--color-warning)";break;default:a=t||"var(--color-foreground-1)"}return e.fill=a,e.color=a,e.stroke=a,e}}},ia=sa,na=(a("8b60"),Object(me["a"])(ia,Fe,He,!1,null,"40c5d6ea",null)),ra=na.exports,oa={name:"ThemeNav",components:{OakIcon:ra},computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),methods:Object(r["a"])({},Object(o["b"])(["setTheme"]))},ca=oa,la=(a("cd0b"),Object(me["a"])(ca,Ve,ze,!1,null,"79d025f0",null)),da=la.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("i",{staticClass:"material-icons",attrs:{"data-test":"toggle-sidebar"},on:{click:function(e){return t.$emit("sidebarToggled")}}},[t._v(" menu_open ")]),a("Logo")],1)},ma=[],ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{staticClass:"logo",attrs:{src:t.janusLogo,alt:"Janus logo"}})},pa=[],ga={name:"Logo",data:function(){return{janusLogo:a("4dc3")}}},fa=ga,va=(a("4964"),Object(me["a"])(fa,ha,pa,!1,null,"0d0a3608",null)),ba=va.exports,ka={name:"Header",components:{Logo:ba}},_a=ka,ya=(a("a513"),Object(me["a"])(_a,ua,ma,!1,null,"ea0a6c42",null)),Ca=ya.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"help-nav",on:{click:t.redirectToMirror}},[t._v("Need help?")])},ja=[],Oa=a("14b7"),wa=a.n(Oa),Sa={name:"HelpNav",computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),methods:{redirectToMirror:function(){var t=wa.a.sign({userId:this.getProfile.auth._id,firstName:this.getProfile.auth.firstName,lastName:this.getProfile.auth.lastName,email:this.getProfile.auth.email},"jwtsecret",{expiresIn:"8h"});window.open("".concat("http://mirror.ioak.org/#/a2/login/extern","?token=").concat(t),"_blank")}}},Pa=Sa,Ia=(a("d3f1"),Object(me["a"])(Pa,Ta,ja,!1,null,"26f4210a",null)),xa=Ia.exports,Ea={name:"Sidebar",components:{CommonNav:Pe,Header:Ca,ProjectNav:De,TeamNav:Ue,ThemeNav:da,HelpNav:xa}},Ba=Ea,Aa=(a("24c2"),Object(me["a"])(Ba,ye,Ce,!1,null,"0914c74e",null)),Da=Aa.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topbar"},[a("div",{staticClass:"left"},[a("menu-icon",{on:{click:function(e){return t.$emit("sidebarToggled")}}}),a("ThumbnailSection",{staticClass:"desktop-only"}),a("div",{staticClass:"left-nav-container"},[a("div",{staticClass:"title-row-container"},[a("title-row")],1),a("context-nav")],1)],1),a("div",{staticClass:"right"},[a("RightNav")],1)])},Ma=[],Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-nav"},[t.userEmail?a("CreateNew",{staticClass:"nav-item"}):t._e(),a("UserAccount",{staticClass:"nav-item"})],1)},Ra=[],La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-account"},[t.user?a("OakPopoverMenu",{attrs:{id:"user-account-popover-menu",elements:t.elements,right:"",iconLeft:"person"}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("Avatar",{attrs:{user:t.user,size:"large"}})],1)]):t._e(),!t.user&&this.getProfile&&this.getProfile.space?a("div",[a("OakButton",{attrs:{label:"Sign in",align:"left",theme:"primary",variant:"appear"},on:{click:function(e){return t.oaSignin("signin")}}}),a("OakButton",{attrs:{label:"Sign up",align:"right",theme:"primary",variant:"appear"},on:{click:function(e){return t.oaSignin("signup")}}})],1):t._e(),a("OakModal",{attrs:{visible:t.profileDialogOpen,label:"Edit profile"},on:{close:t.toggleProfileDialog}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"edit-profile"},[a("div",[a("div",{staticClass:"typography-6 heading"},[t._v("Choose Avatar")]),a("div",{staticClass:"avatar-gender-selection"},[a("OakSwitch",{attrs:{theme:"secondary",data:t.avatarGender,objects:[{key:"male",value:"Male"},{key:"female",value:"Female"},{key:"all",value:"All"}]},on:{change:t.handleGenderChange}})],1),"male"===t.avatarGender||"all"===t.avatarGender?a("div",{staticClass:"avatar-section"},t._l(20,(function(e){return a("div",{key:e,staticClass:"avatar-item",class:"male_"+e===t.data.avatar?"selected":"",on:{click:function(a){return t.handleAvatarChange("male_"+e)}}},[a("AvatarImage",{attrs:{reference:"male_"+e,size:"large"}})],1)})),0):t._e(),"female"===t.avatarGender||"all"===t.avatarGender?a("div",{staticClass:"avatar-section"},t._l(20,(function(e){return a("div",{key:e,staticClass:"avatar-item",class:"female_"+e===t.data.avatar?"selected":"",on:{click:function(a){return t.handleAvatarChange("female_"+e)}}},[a("AvatarImage",{attrs:{reference:"female_"+e,size:"large"}})],1)})),0):t._e()]),a("div",[a("div",{staticClass:"typography-6 heading"},[t._v("Other settings")]),a("div",{staticClass:"typography-2"},[t._v("Password and profile settings")]),a("div",{staticClass:"typography-4"},[t._v(" Managed in Oneauth ")])])])]),a("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("OakButton",{attrs:{label:"Save",theme:"primary",variant:"appear"},on:{click:t.saveProfile}})],1)])],1)},Ua=[],Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-popover-menu",class:t.style,attrs:{id:t.id}},[t.label?a("div",{staticClass:"label",class:t.labelStyle,on:{click:t.toggle}},[t.iconLeft?a("div",{staticClass:"left-icon"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.iconLeft))])]):t._e(),a("div",{staticClass:"label-text"},[t._v(t._s(t.label))]),a("div",{staticClass:"right-icon"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.iconRight))])])]):a("div",{staticClass:"label-custom",on:{click:t.toggle}},[t._t("label")],2),a("div",{staticClass:"dropdown-content",class:t.dropdownContentStyle,on:{click:t.toggle}},t._l(t.elements,(function(e){return a("div",{key:e.label,staticClass:"element",on:{click:e.action}},[e.icon?a("OakIcon",{attrs:{mat:e.icon}}):t._e(),e.mat?a("OakIcon",{attrs:{mat:e.mat}}):t._e(),e.fa?a("OakIcon",{attrs:{fa:e.fa}}):t._e(),e.svg?a("OakIcon",{attrs:{svg:e.svg}}):t._e(),t._v(" "+t._s(e.label)+" ")],1)})),0)])},za=[],Fa={name:"OakSelect",components:{OakIcon:ra},props:{id:String,label:String,data:String,elements:Array,labelVariant:String,theme:String,right:Boolean,iconLeft:String,iconRight:String,mobilize:Boolean},data:function(){return{style:this.getStyle(),show:!1}},methods:{toggle:function(){this.show=!this.show},getStyle:function(){var t=this.theme?this.theme:"";return t+=this.labelVariant?" ".concat(this.labelVariant):"",t+=this.width?" ".concat(this.width):"",t},changeSelection:function(t){event.target.name=this.id,event.target.value=t,this.$emit("change",event),this.toggle()}},computed:{dropdownContentStyle:function(){var t=this.show?"show":"hide";return t+=this.right?" right":"",t},labelStyle:function(){var t=this.show?"active":"";return t+=this.mobilize?" short-label":"",t}},created:function(){var t=this;window.addEventListener("click",(function(e){var a;(null===(a=document.getElementById(t.id))||void 0===a?void 0:a.contains(e.target))||(t.show=!1)}))}},Ha=Fa,Ga=(a("b64a"),Object(me["a"])(Ha,Va,za,!1,null,"609c6698",null)),qa=Ga.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"oak-button",class:t.style,on:{click:function(e){return t.$emit("click")}}},[a("div",{staticClass:"button-label-container"},[t.icon?a("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))]):t._e(),t.mat?a("i",{staticClass:"material-icons"},[t._v(t._s(t.mat))]):t._e(),t.fa?a("OakIcon",{attrs:{fa:t.fa,size:"1.2em",color:"var(--btn-text-color)"}}):t._e(),t.svg?a("OakIcon",{attrs:{svg:t.svg,size:"1.2em",color:"var(--btn-text-color)"}}):t._e(),t._v(" "+t._s(t.label)+" ")],1)])},Ja=[],Wa=(a("c96a"),{name:"OakButton",components:{OakIcon:ra},props:{label:String,icon:String,mat:String,svg:String,fa:String,action:Object,variant:String,theme:String,align:String,small:Boolean,invert:Boolean},computed:Object(r["a"])({},Object(o["c"])(["getProfile"]),{style:function(){var t,e,a=this.theme?this.theme:"";return a+=(null===(t=this.getProfile)||void 0===t||null===(e=t.theme)||void 0===e?void 0:e.includes("theme_light"))?" light":"",console.log(this.getProfile),a+=this.variant?" ".concat(this.variant):" regular",this.label||(a+=" icon"),a+=this.invert?" invert":"",a+=this.small?" small":"",a+=this.align?" align-".concat(this.align):"",a}})}),Ya=Wa,Xa=(a("4fe0"),Object(me["a"])(Ya,Ka,Ja,!1,null,"5b07a2ad",null)),Qa=Xa.exports,Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.nodeVisible?a("div",{staticClass:"modal-root",class:t.visible?"show "+t.style:"hide "+t.style},[a("div",{staticClass:"backdrop-fade",on:{click:function(e){return t.$emit("close")}}}),a("div",{staticClass:"oak-modal"},[a("div",{staticClass:"modal",class:t.error?"error":""},[a("div",{class:t.visible?"container":"container hidetext"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"left"},[t.icon?a("div",{staticClass:"icon"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))])]):a("div",{staticClass:"icon"},[t._v(" "+t._s(t.label.substring(0,1))+" ")]),a("div",{staticClass:"label one-liner"},[t._v(t._s(t.label))])]),a("div",{staticClass:"right"},[a("div",{on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"material-icons modal-close-icon"},[t._v("close")])])])]),t.$slots["modal-container"]?[t._t("modal-container")]:t._e(),t.$slots["modal-body"]?a("div",{staticClass:"modal-body"},[t._t("modal-body")],2):t._e(),t.$slots["modal-footer"]?a("div",{staticClass:"modal-footer"},[t._t("modal-footer")],2):t._e()],2)])])]):t._e()},ts=[],es={name:"OakModal",props:{visible:Boolean,label:String,fullscreen:Boolean,noheader:Boolean,donotMobilize:Boolean,error:Boolean,icon:String},data:function(){return{style:this.getStyle(),nodeVisible:!1}},mounted:function(){document.addEventListener("keydown",this.escFunction,!1)},methods:{getStyle:function(){var t="";return t+=this.noheader?" noheader":"",t+=this.fullscreen?" fullscreen":"",t+=this.donotMobilize?"":" mobilize",t},escFunction:function(t){27===t.keyCode&&this.visible&&this.$emit("close")}},watch:{visible:function(t,e){var a=this;t!=e&&(t?this.nodeVisible=t:setTimeout((function(){return a.nodeVisible=t}),200))}}},as=es,ss=(a("9daa"),Object(me["a"])(as,Za,ts,!1,null,"d42b9fa0",null)),is=ss.exports,ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-switch",class:t.style},t._l(t.objects,(function(e){return a("div",{key:e.key,staticClass:"radio-item",class:e.key===t.data?"selected":"unchecked",on:{click:function(a){return t.handleChange(e.key)}}},[t._v(" "+t._s(e.value)+" ")])})),0)},rs=[],os={name:"OakSwitch",props:{data:String,variant:String,theme:String,objects:Array},computed:{style:function(){var t=this.theme?this.theme:"";return t+=this.variant?" ".concat(this.variant):"",t}},methods:{handleChange:function(t){event.target.value=t,this.$emit("change",event)}}},cs=os,ls=(a("ea02"),Object(me["a"])(cs,ns,rs,!1,null,"1d08227b",null)),ds=ls.exports,us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{staticClass:"avatar"},[t.user.avatar?a("AvatarImage",{attrs:{reference:t.user.avatar,size:t.size}}):a("div",{staticClass:"avatar-icon",class:t.user.color+" "+this.size},[t._v(" "+t._s(t.user.firstName.substring(0,1))+t._s(t.user.lastName.substring(0,1))+" ")]),t.showName?a("div",{staticClass:"avatar-name"},[t._v(t._s(t.user.firstName))]):t._e()],1):t._e()},ms=[],hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("img",{class:this.size,attrs:{alt:"Avatar",src:"/avatars/"+t.reference+".svg"}})},ps=[],gs={name:"AvatarImage",props:{reference:String,size:String}},fs=gs,vs=(a("c0df"),Object(me["a"])(fs,hs,ps,!1,null,"698c916f",null)),bs=vs.exports,ks={name:"Avatar",props:{user:Object,showName:Boolean,size:String},components:{AvatarImage:bs}},_s=ks,ys=(a("93d7"),Object(me["a"])(_s,us,ms,!1,null,"0a4d84db",null)),Cs=ys.exports,Ts={name:"UserAccount",components:{OakPopoverMenu:qa,OakButton:Qa,OakModal:is,Avatar:Cs,AvatarImage:bs,OakSwitch:ds},data:function(){return{profileDialogOpen:!1,data:{avatar:""},avatarGender:"all"}},mounted:function(){var t;this.data.avatar=null===(t=this.user)||void 0===t?void 0:t.avatar},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getUserByEmail"]),{user:function(){var t,e;return null===this||void 0===this?void 0:this.getUserByEmail(null===this||void 0===this||null===(t=this.getProfile)||void 0===t||null===(e=t.auth)||void 0===e?void 0:e.email)},elements:function(){var t,e,a=this,s=[];return(null===(t=this.getProfile)||void 0===t||null===(e=t.auth)||void 0===e?void 0:e.isAuth)?(s.push({icon:"power_settings_new",label:"Sign out",action:this.logout}),s.push({icon:"settings",label:"Profile Settings",action:this.toggleProfileDialog})):s.push({icon:"fingerprint",label:"Sign in",action:function(){var t;return a.$router.push("/".concat(null===(t=a.getProfile)||void 0===t?void 0:t.space,"/login"))}}),s}}),watch:{user:function(){var t;this.data.avatar=null===(t=this.user)||void 0===t?void 0:t.avatar}},methods:Object(r["a"])({},Object(o["b"])(["removeAuth","saveUser"]),{logout:function(){this.removeAuth(this.$cookies)},oaSignin:function(t){var e;window.location.href="".concat("https://oneauth.ioak.org","/#/space/").concat(null===(e=this.getProfile)||void 0===e?void 0:e.space,"/login?type=").concat(t,"&appId=").concat("3202a37dc421d735808c937b")},toggleProfileDialog:function(){this.profileDialogOpen=!this.profileDialogOpen},handleAvatarChange:function(t){this.data.avatar=t},handleGenderChange:function(){this.avatarGender=event.target.value},saveProfile:function(){this.saveUser(Object(r["a"])({},this.user,{avatar:this.data.avatar})),this.toggleProfileDialog()}})},js=Ts,Os=(a("5cd1"),Object(me["a"])(js,La,Ua,!1,null,"31287d91",null)),ws=Os.exports,Ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("OakPopoverMenu",{attrs:{elements:t.elements,data:"option 1",id:"create new",label:"Create new",iconLeft:"playlist_add",theme:"secondary",labelVariant:"on",right:"",mobilize:""}}),a("OakModal",{attrs:{visible:t.newProject,label:"New Project",icon:"apps"},on:{close:t.toggleProject}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("UpdateProject",{attrs:{project:t.projectStub},on:{success:t.toggleProject}})],1)]),a("OakModal",{attrs:{visible:t.newStage,label:"New Stage",icon:"vertical_split"},on:{close:t.toggleStage}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("UpdateStage",{attrs:{stage:t.stageStub},on:{success:t.toggleStage}})],1)]),a("OakModal",{attrs:{visible:t.newTeam,label:"New Team",icon:"people_alt"},on:{close:t.toggleTeam}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("UpdateTeam",{attrs:{team:t.teamStub},on:{success:t.toggleTeam}})],1)]),a("NewTask",{attrs:{task:t.taskStub,visible:t.newTask},on:{success:t.toggleTask,toggle:t.toggleTask}})],1)},Ps=[],Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal-body form"},[a("OakText",{attrs:{data:t.data.name,id:"name",label:"Project name"},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.type,id:"type",label:"Project methodology",elements:["Kanban","Scrum"]},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.estimationMetric,id:"estimationMetric",label:"Estimation metric",elements:["Story points","Time estimate"]},on:{change:t.handleChange}})],1),a("div",{staticClass:"modal-footer"},[a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Save"},on:{click:t.save}})],1)])},xs=[],Es=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-text-field"},[t.multiline?a("textarea",{attrs:{disabled:t.disabled,name:t.id,rows:t.rows},domProps:{value:t.data},on:{keyup:function(e){return t.$emit("change")},blur:t.blurEvent}}):["number"===t.type?a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.value,expression:"value",modifiers:{number:!0}}],attrs:{disabled:t.disabled,autoComplete:"off",type:t.type?t.type:"text",name:t.id},domProps:{value:t.value},on:{keyup:function(e){return t.$emit("change",t.value)},blur:[t.blurEvent,function(e){return t.$forceUpdate()}],focus:function(e){return t.$emit("focus")},input:function(e){e.target.composing||(t.value=t._n(e.target.value))}}}):"checkbox"===(t.type?t.type:"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{disabled:t.disabled,autoComplete:"off",name:t.id,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{keyup:function(e){return t.$emit("change")},blur:t.blurEvent,focus:function(e){return t.$emit("focus")},change:function(e){var a=t.value,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.value=a.concat([n])):r>-1&&(t.value=a.slice(0,r).concat(a.slice(r+1)))}else t.value=i}}}):"radio"===(t.type?t.type:"text")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{disabled:t.disabled,autoComplete:"off",name:t.id,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{keyup:function(e){return t.$emit("change")},blur:t.blurEvent,focus:function(e){return t.$emit("focus")},change:function(e){t.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{disabled:t.disabled,autoComplete:"off",name:t.id,type:t.type?t.type:"text"},domProps:{value:t.value},on:{keyup:function(e){return t.$emit("change")},blur:t.blurEvent,focus:function(e){return t.$emit("focus")},input:function(e){e.target.composing||(t.value=e.target.value)}}})],t._v(" "),t.label?a("label",{class:t.data?"active":"",attrs:{for:t.id,clas:"formelement-label"}},[t._v(" "+t._s(t.label)+" ")]):t._e()],2)},Bs=[],As=(a("a9e3"),{name:"OakText",props:{label:String,id:String,data:[String,Number],type:String,handleChange:Function,errorFields:Object,disabled:Boolean,rows:Number,multiline:Boolean,placeholder:String},data:function(){return{value:""}},mounted:function(){this.value=this.data},watch:{data:function(){this.value=this.data}},methods:{blurEvent:function(){this.$emit("blur"),b("blur",!0,{id:this.id})}}}),Ds=As,$s=(a("aa9d"),Object(me["a"])(Ds,Es,Bs,!1,null,"a6858b12",null)),Ms=$s.exports,Ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-select"},[a("select",{staticClass:"select",attrs:{name:t.id},on:{change:function(e){return t.$emit("change")}}},[a("option",{attrs:{value:""},domProps:{selected:""===t.data}}),t._l(t.elements,(function(e){return a("option",{key:e,domProps:{value:e,selected:e===t.data}},[t._v(" "+t._s(e)+" ")])})),t._l(t.objects,(function(e){return a("option",{key:e.key,domProps:{value:e.key,selected:e.key===t.data}},[t._v(" "+t._s(e.value)+" ")])}))],2),t.label?a("label",{class:t.data?"active":"",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")]):t._e()])},Rs=[],Ls={name:"OakSelect",props:{id:String,label:String,error:Boolean,data:[String,Number],elements:Array,objects:Array,first:String}},Us=Ls,Vs=(a("4c2a"),Object(me["a"])(Us,Ns,Rs,!1,null,"58e06a4e",null)),zs=Vs.exports,Fs={name:"UpdateProject",components:{OakText:Ms,OakButton:Qa,OakSelect:zs},props:{project:Object},data:function(){return{data:{}}},created:function(){this.data=Object(r["a"])({},this.project)},watch:{project:function(){this.data=Object(r["a"])({},this.project)}},methods:Object(r["a"])({},Object(o["b"])(["saveProject"]),{handleChange:function(){this.data[event.target.name]=event.target.value},save:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveProject(this.data);case 2:e=t.sent,e?this.$emit("success"):this.$emit("failure");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},Hs=Fs,Gs=(a("d6df"),Object(me["a"])(Hs,Is,xs,!1,null,"d22e41a6",null)),qs=Gs.exports,Ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakModal",{attrs:{visible:t.visible,label:"New task",icon:"library_add_check"},on:{close:function(e){return t.$emit("toggle")}}},[a("div",{staticClass:"form",attrs:{slot:"modal-body"},slot:"modal-body"},[t.task.taskId?t._e():a("OakSelect",{attrs:{data:t.data.projectId,id:"projectId",label:"Project name",objects:t.projectDropDown},on:{change:t.handleChange}}),t.task.taskId?t._e():a("OakSelect",{attrs:{data:t.data.stageId,label:"Workflow",id:"stageId",objects:t.stageDropDown},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.type,id:"type",label:"Task type",elements:["Epic","Story","Task","Sub-task","Defect"]},on:{change:t.handleChange}}),a("OakText",{attrs:{data:t.data["title"],id:"title",label:"Title"},on:{change:t.handleChange}}),a("Assignee",{attrs:{assignedTo:t.data.assignedTo,projectId:t.data.projectId},on:{remove:t.removeAssignee,add:t.addAssignee}}),a("OakEditor",{attrs:{id:"task-description-"+t.task._id,label:"Description",data:t.data.description,alwaysEdit:""},on:{change:t.handleDescriptionChange}}),a("div",{staticClass:"space-top-2 space-bottom-2"},[t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"primary",variant:"regular",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"secondary",variant:"regular",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"tertiary",variant:"regular",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{attrs:{theme:"default",variant:"regular",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e()],1),a("div",{staticClass:"space-top-2 space-bottom-2"},[t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"primary",variant:"appear",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"secondary",variant:"appear",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"tertiary",variant:"appear",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{attrs:{theme:"default",variant:"appear",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e()],1),a("div",{staticClass:"space-top-2 space-bottom-2"},[t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"primary",variant:"outline",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"secondary",variant:"outline",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{staticClass:"space-right-2",attrs:{theme:"tertiary",variant:"outline",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{attrs:{theme:"default",variant:"outline",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e(),t.task.taskId?a("OakButton",{attrs:{theme:"primary",variant:"drama",icon:"visibility",label:"View"},on:{click:t.openDetailedView}}):t._e()],1)],1),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("div",[t.task.taskId?a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"visibility",label:"Detailed View"},on:{click:t.openDetailedView}}):t._e()],1),a("div",[a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"check",label:"Save"},on:{click:t.save}})],1)])])},Js=[],Ws=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-dialog"},[t.nodeVisible?a("div",{staticClass:"dialog",class:t.visible?"show "+t.style:"hide "+t.style},[a("div",{class:t.visible?"container":"container hidetext"},[a("div",{staticClass:"dialog-header"},[a("div",{staticClass:"container",on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"material-icons"},[t._v("close")]),a("div",{staticClass:"text-esc"},[t._v(" esc ")])])]),t.$slots["dialog-container"]?a("div",{staticClass:"dialog-container"},[t._t("dialog-container")],2):t._e(),t.$slots["dialog-body"]?a("div",{staticClass:"dialog-body"},[t._t("dialog-body")],2):t._e(),t.$slots["dialog-footer"]?a("div",{staticClass:"dialog-footer"},[t._t("dialog-footer")],2):t._e()])]):t._e()])}),Ys=[],Xs={name:"OakDialog",props:{visible:Boolean,small:Boolean,fullscreen:Boolean},data:function(){return{style:this.getStyle(),nodeVisible:!1}},mounted:function(){document.addEventListener("keydown",this.escFunction,!1)},methods:{getStyle:function(){var t="";return t+=this.small?" small":"",t+=this.fullscreen?" fullscreen":"",t},escFunction:function(t){27===t.keyCode&&this.visible&&this.$emit("close")}},watch:{visible:function(t,e){var a=this;t!=e&&(t?this.nodeVisible=t:setTimeout((function(){return a.nodeVisible=t}),200))}}},Qs=Xs,Zs=(a("bf4d"),Object(me["a"])(Qs,Ws,Ys,!1,null,"57fb263c",null)),ti=(Zs.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-click-and-edit"},[a("div",{staticClass:"typography-4 form-element-label"},[t._v(t._s(t.label))]),t.showEdit?a("div",{staticClass:"edit-content-container",attrs:{id:"oak-click-and-edit-"+t.id}},[t._t("edit-content")],2):a("div",{staticClass:"view-content-container",on:{click:t.show}},[a("div",{staticClass:"view-content"},[t._t("view-content")],2),t._m(0)])])}),ei=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-content-edit-icon"},[a("i",{staticClass:"material-icons"},[t._v("edit")])])}],ai={name:"OakClickAndEdit",props:{id:String,alwaysView:Boolean,alwaysEdit:Boolean,label:String},created:function(){var t=this;k().subscribe((function(e){"blur"===e.name&&e.data.id===t.id&&t.hide()}))},data:function(){return{showEdit:!!this.alwaysEdit}},methods:{show:function(){this.showEdit=!this.alwaysView},hide:function(){this.showEdit=!!this.alwaysEdit}}},si=ai,ii=(a("ff82"),Object(me["a"])(si,ti,ei,!1,null,"034f7dec",null)),ni=ii.exports,ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-editor"},[a("label",{staticClass:"formelement-label"},[t._v(t._s(t.label))]),t.alwaysEdit||t.showEdit?a("div",{staticClass:"content-section"},[a("OakEditorQuill",{attrs:{id:t.id,data:t.data},on:{change:function(e){return t.$emit("change",e)}}})],1):a("div",{staticClass:"content-section view-section-container",on:{click:t.toggle}},[a("div",{staticClass:"view-section",domProps:{innerHTML:t._s(t.data)}}),t._m(0)])])},oi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-icon"},[a("i",{staticClass:"material-icons"},[t._v("edit")])])}],ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-editor-quill"},[a("div",{ref:"editor-"+t.id,attrs:{id:"editor-"+t.id}})])},li=[],di=a("9339"),ui=a.n(di),mi=[["bold","italic","underline","strike",{align:"left"},{align:"center"},{align:"right"},{align:"justify"},{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{color:[]},{background:[]},"code-block",{header:[1,2,3,4,5,6,!1]},{font:[]}]],hi={name:"OakEditorQuill",props:{id:String,data:String},data:function(){return{editor:null}},mounted:function(){var t=this;this.editor=new ui.a(this.$refs["editor-".concat(this.id)],{modules:{toolbar:mi},theme:"snow",formats:["header","bold","italic","underline","strike","blockquote","list","bullet","indent","color","font","code-block","link","image","background","align"]}),this.editor.root.innerHTML=this.data,this.editor.on("text-change",(function(){return t.update()}))},methods:{update:function(){this.$emit("change",this.editor.getText()?this.editor.root.innerHTML:"")}}},pi=hi,gi=(a("6a1c"),Object(me["a"])(pi,ci,li,!1,null,"5be50153",null)),fi=gi.exports,vi={name:"OakEditor",props:{id:String,data:String,alwaysEdit:Boolean,label:String},data:function(){return{showEdit:!1}},components:{OakEditorQuill:fi},methods:{handleChange:function(t){this.$emit("change",t)},toggle:function(){this.showEdit=!this.showEdit}}},bi=vi,ki=(a("b7f8"),Object(me["a"])(bi,ri,oi,!1,null,"6ef01f3a",null)),_i=ki.exports,yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakClickAndEdit",{attrs:{id:t.id,label:t.label?t.label:null,alwaysEdit:t.alwaysEditFields.includes(t.id)}},[a("div",{attrs:{slot:"edit-content"},slot:"edit-content"},[a("OakText",{attrs:{data:t.data[t.id],id:t.id},on:{change:function(e){return t.$emit("change")}}})],1),a("div",{attrs:{slot:"view-content"},slot:"view-content"},[a("div",{staticClass:"typography-4"},[t._v(" "+t._s(t.data[t.id]?t.data[t.id]:"None")+" ")])])])},Ci=[],Ti={name:"ClickAndEditText",props:{alwaysEditFields:Array,data:Object,id:String,label:String},components:{OakText:Ms,OakClickAndEdit:ni}},ji=Ti,Oi=Object(me["a"])(ji,yi,Ci,!1,null,null,null),wi=(Oi.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakClickAndEdit",{attrs:{id:t.id,label:t.label?t.label:null,alwaysEdit:t.alwaysEditFields.includes(t.id)}},[a("div",{attrs:{slot:"edit-content"},slot:"edit-content"},[t.objects?a("OakSelect",{attrs:{data:t.data[t.id],id:t.id,objects:t.objects},on:{change:function(e){return t.$emit("change")}}}):a("OakSelect",{attrs:{data:t.data[t.id],id:t.id,elements:t.elements},on:{change:function(e){return t.$emit("change")}}})],1),a("div",{attrs:{slot:"view-content"},slot:"view-content"},[a("div",{staticClass:"typography-4"},[t._v(" "+t._s(t.viewData)+" ")])])])}),Si=[],Pi={name:"ClickAndEditSelect",props:{alwaysEditFields:Array,data:Object,id:String,label:String,elements:Array,objects:Array},components:{OakSelect:zs,OakClickAndEdit:ni},computed:{viewData:function(){var t,e=this;return this.elements?this.data[this.id]?this.data[this.id]:"None":this.objects?null===(t=this.objects.find((function(t){return t.key===e.data[e.id]})))||void 0===t?void 0:t.value:""}}},Ii=Pi,xi=Object(me["a"])(Ii,wi,Si,!1,null,null,null),Ei=(xi.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"assigned-to"},[a("div",{staticClass:"edit-content"},[a("OakAutoComplete",{attrs:{id:"search-assignee-"+Math.random(),label:"Search team members to assign",objects:t.peopleSearchList},on:{change:function(e){return t.$emit("add",e)}}})],1),t.members&&t.members.length>0?a("div",{staticClass:"view-content"},[a("div",{staticClass:"container"},t._l(t.members,(function(e){return a("div",{key:e._id,staticClass:"member"},[a("Avatar",{attrs:{user:e,showName:""}}),a("i",{staticClass:"material-icons",on:{click:function(a){return t.$emit("remove",e._id)}}},[t._v("close")])],1)})),0)]):t._e()])}),Bi=[],Ai=(a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-auto-complete",attrs:{id:t.id}},[a("div",{staticClass:"search-bar"},[a("OakText",{attrs:{id:"auto-complete",data:t.searchCriteria,label:t.label,placeholder:t.placeholder},on:{focus:t.onFocus,change:t.handleSearch}})],1),t.isSearchOn&&t.filteredList&&t.filteredList.length>0?a("div",{staticClass:"results"},t._l(t.filteredList,(function(e){return a("div",{key:e.key,staticClass:"element",on:{click:function(a){return t.selected(e.key)}}},[t._v(" "+t._s(e.value)+" ")])})),0):t._e()])}),Di=[],$i={name:"OakAutoComplete",components:{OakText:Ms},props:{label:String,placeholder:String,objects:Array,id:String},data:function(){return{isSearchOn:!1,searchCriteria:""}},created:function(){var t=this;window.addEventListener("click",(function(e){var a;(null===(a=document.getElementById(t.id))||void 0===a?void 0:a.contains(e.target))||(t.isSearchOn=!1)}))},computed:{filteredList:function(){var t=this;return this.objects.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.searchCriteria.toLowerCase())}))}},methods:{onFocus:function(){this.isSearchOn=!0},selected:function(t){this.searchCriteria="",this.isSearchOn=!1,this.$emit("change",t)},handleSearch:function(){this.searchCriteria=event.target.value}}},Mi=$i,Ni=(a("7278"),Object(me["a"])(Mi,Ai,Di,!1,null,"2c64df38",null)),Ri=Ni.exports,Li={name:"Assignee",props:{assignedTo:Array,projectId:String,label:String},data:function(){return{searchText:""}},components:{Avatar:Cs,OakAutoComplete:Ri},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getTeamMembersByTeamIdList","getProjectTeamsByProjectId"]),{members:function(){var t,e=this,a=[];return console.log(this.assignedTo),null===(t=this.assignedTo)||void 0===t||t.forEach((function(t){return a.push(e.getUserById(t))})),a},teams:function(){return this.getProjectTeamsByProjectId(this.projectId).map((function(t){return t.teamId}))},peopleList:function(){var t=this,e=this.getTeamMembersByTeamIdList(this.teams),a=[];return null===e||void 0===e||e.forEach((function(e){var s=t.getUserById(e.userId);a.push({key:s._id,value:"".concat(s.firstName," ").concat(s.lastName)})})),a},peopleSearchList:function(){var t=this;return this.peopleList.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.searchText.toLowerCase())}))}}),methods:{handlePeopleSearch:function(){this.searchText=event.target.value}}},Ui=Li,Vi=(a("e9f4"),Object(me["a"])(Ui,Ei,Bi,!1,null,"2477a9c4",null)),zi=Vi.exports,Fi={name:"NewTask",components:{OakEditor:_i,OakModal:is,OakButton:Qa,OakText:Ms,OakSelect:zs,Assignee:zi},props:{task:Object,visible:Boolean},data:function(){return{data:{projectId:"",stageId:"",type:"",priority:"",title:"",description:"",assignedTo:[]}}},computed:Object(r["a"])({},Object(o["c"])(["getProjects","getStagesByProjectId","getProjectById","getProfile"]),{projectDropDown:function(){var t=[];return this.getProjects.forEach((function(e){return t.push({key:e._id,value:e.name})})),t},stageDropDown:function(){var t=[];return this.getStagesByProjectId(this.data.projectId).forEach((function(e){return t.push({key:e._id,value:e.name})})),t}}),created:function(){this.data=Object(r["a"])({},this.task)},watch:{task:function(){this.data=Object(r["a"])({},this.task)}},methods:Object(r["a"])({},Object(o["b"])(["saveTask"]),{handleChange:function(){this.data[event.target.name]=event.target.value},handleDescriptionChange:function(t){this.data.description=t},save:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveTask(this.data);case 2:e=t.sent,e?this.$emit("success"):this.$emit("failure");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeAssignee:function(t){this.data.assignedTo=this.data.assignedTo.filter((function(e){return e!==t}))},addAssignee:function(t){this.data.assignedTo||(this.data.assignedTo=[]),this.data.assignedTo.includes(t)||this.data.assignedTo.push(t)},openDetailedView:function(){b("modal",!1),this.$router.push({path:"/".concat(this.getProfile.space,"/").concat(this.task.projectId,"/dashboard"),query:{view:"task",taskid:this.task.taskId}})}})},Hi=Fi,Gi=(a("d146"),Object(me["a"])(Hi,Ks,Js,!1,null,"532d739a",null)),qi=Gi.exports,Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t.stage._id?t._e():a("OakSelect",{attrs:{data:t.data.projectId,id:"projectId",label:"Project",objects:t.projectDropDown},on:{change:t.handleChange}}),a("OakText",{attrs:{data:t.data.name,id:"name",label:"Workflow Name"},on:{change:t.handleChange}})],1),a("div",{staticClass:"modal-footer"},[t.showDeletePrompt?a("div",{staticClass:"action-section"},[a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"delete",label:"Confirm Deletion"},on:{click:t.remove}}),a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"close",label:"Cancel"},on:{click:t.toggleDeletePrompt}})],1):a("div",{staticClass:"action-section"},[a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"delete",label:"Delete"},on:{click:t.toggleDeletePrompt}}),a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"check",label:"Save"},on:{click:t.save}})],1)])])},Ji=[],Wi={name:"UpdateStage",components:{OakSelect:zs,OakText:Ms,OakButton:Qa},props:{stage:Object},data:function(){return{data:{},showDeletePrompt:!1}},created:function(){this.data=Object(r["a"])({},this.stage)},watch:{stage:function(){this.data=Object(r["a"])({},this.stage)}},computed:Object(r["a"])({},Object(o["c"])(["getProjects"]),{projectDropDown:function(){var t=[];return this.getProjects.forEach((function(e){return t.push({key:e._id,value:e.name})})),t}}),methods:Object(r["a"])({},Object(o["b"])(["saveStage","deleteStage"]),{handleChange:function(){this.data[event.target.name]=event.target.value},save:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveStage(this.data);case 2:e=t.sent,console.log(e),e?this.$emit("success"):this.$emit("failure");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),remove:function(){this.deleteStage(this.stage._id)},toggleDeletePrompt:function(){this.showDeletePrompt=!this.showDeletePrompt}})},Yi=Wi,Xi=(a("8f3f"),Object(me["a"])(Yi,Ki,Ji,!1,null,"4c22bd4d",null)),Qi=Xi.exports,Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("OakText",{attrs:{data:t.data.name,id:"name",label:"Team name"},on:{change:t.handleChange}}),a("OakAutoComplete",{attrs:{objects:t.peopleSearchList,id:"people-search-update-team",label:"Search members"},on:{change:t.handlePeopleChange}}),a("div",{staticClass:"members"},t._l(t.data.members,(function(e){return a("div",{key:e,staticClass:"member"},[t._v(" "+t._s(t.getUserById(e)?t.getUserById(e).firstName+" "+t.getUserById(e).lastName:t.getUserById(e))+" ")])})),0)],1),a("div",{staticClass:"modal-footer"},[a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Save"},on:{click:t.save}})],1)])},tn=[],en={name:"UpdateTeam",components:{OakButton:Qa,OakText:Ms,OakAutoComplete:Ri},props:{visible:Boolean,team:Object,alwaysEditFields:{type:Array,default:function(){return["name"]}}},data:function(){return{data:{name:"",members:[]},searchText:""}},computed:Object(r["a"])({},Object(o["c"])(["getTeam","getUsers","getUserById"]),{peopleList:function(){var t,e=[];return null===(t=this.getUsers)||void 0===t||t.forEach((function(t){e.push({key:t._id,value:"".concat(t.firstName," ").concat(t.lastName)})})),e},peopleSearchList:function(){var t=this;return this.peopleList.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.searchText.toLowerCase())}))}}),created:function(){this.data=Object(r["a"])({},this.team)},watch:{getTeam:function(){this.data=Object(r["a"])({},this.team)}},methods:Object(r["a"])({},Object(o["b"])(["saveTeam"]),{handleChange:function(){this.data[event.target.name]=event.target.value},save:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveTeam(this.data);case 2:e=t.sent,e?this.$emit("success"):this.$emit("failure");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlePeopleSearch:function(){this.searchText=event.target.value},handlePeopleChange:function(t){this.data.members?this.data.members.push(t):this.data.members=[t]}})},an=en,sn=(a("f869"),Object(me["a"])(an,Zi,tn,!1,null,"f1726248",null)),nn=sn.exports,rn={name:"",type:"Kanban",estimationMetric:"Story points"},on={name:"",members:[]},cn={projectId:"",stageId:"",name:""},ln={stageId:"",type:"Story",title:"",description:"",priority:"",assignedTo:[],parentTaskId:null,projectId:"",timeEstimate:0,storyPoints:0,status:"open"},dn={name:"CreateNew",components:{OakPopoverMenu:qa,UpdateProject:qs,NewTask:qi,UpdateTeam:nn,UpdateStage:Qi,OakModal:is},data:function(){return{newProject:!1,newStage:!1,newTask:!1,newTeam:!1,projectStub:rn,teamStub:on,stageStub:cn,taskStub:ln,elements:[{label:"Task",action:this.toggleTask,icon:"library_add_check"},{label:"Project",action:this.toggleProject,icon:"apps"},{label:"Team",action:this.toggleTeam,icon:"people_alt"},{label:"Stage / Lane",action:this.toggleStage,icon:"vertical_split"}]}},computed:Object(r["a"])({},Object(o["c"])(["getProject"])),methods:{toggleProject:function(){this.projectStub=Object(r["a"])({},this.projectStub,{},rn),this.newProject=!this.newProject},toggleTask:function(){var t;this.taskStub=Object(r["a"])({},ln,{assignedTo:[],projectId:null===(t=this.getProject)||void 0===t?void 0:t._id}),this.newTask=!this.newTask},toggleStage:function(){this.stageStub=Object(r["a"])({},this.stageStub,{},cn),this.newStage=!this.newStage},toggleTeam:function(){this.teamStub=Object(r["a"])({},this.teamStub,{},on),this.newTeam=!this.newTeam}}},un=dn,mn=Object(me["a"])(un,Ss,Ps,!1,null,"25dbcd35",null),hn=mn.exports,pn={name:"RightNav",components:{UserAccount:ws,CreateNew:hn},computed:Object(r["a"])({},Object(o["c"])(["getProfile"]),{userEmail:function(){var t,e;return null===this||void 0===this||null===(t=this.getProfile)||void 0===t||null===(e=t.auth)||void 0===e?void 0:e.email}})},gn=pn,fn=(a("ce78"),Object(me["a"])(gn,Na,Ra,!1,null,"b6902b1a",null)),vn=fn.exports,bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getProject?a("div",{staticClass:"title-row"},[t._v(t._s(t.getProject.name))]):t._e(),t.getTeam?a("div",{staticClass:"title-row"},[t._v(t._s(t.getTeam.name))]):t._e()])},kn=[],_n={name:"TitleRow",computed:Object(r["a"])({},Object(o["c"])(["getProject","getTeam"]))},yn=_n,Cn=(a("fe88"),Object(me["a"])(yn,bn,kn,!1,null,"10def7a0",null)),Tn=Cn.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"context-nav"},["Project"===t.contextName&&t.getProject?a("ProjectContextNav"):t._e(),"Team"===t.contextName&&t.getTeam?a("TeamContextNav"):t._e()],1)},On=[],wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isProjectAdministrator?a("div",{staticClass:"nav-menu"},[a("router-link",{key:t.getProject._id+"_dashboard",staticClass:"nav-item",class:t.$route.path.startsWith("/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard")?"main-route-active":"",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard?view=board"}},[t._v(" Dashboard ")]),t.isProjectAdministrator?a("router-link",{key:t.getProject._id+"_administration",staticClass:"nav-item desktop-only",class:t.$route.path.startsWith("/"+t.getProfile.space+"/"+t.getProject._id+"/administration")?"main-route-active":"",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/administration?view=team"}},[t._v(" Administration ")]):t._e()],1):t._e()},Sn=[],Pn={name:"ProjectContextNav",computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject","getTaskToView","getRolesByProjectId"]),{isProjectAdministrator:function(){var t=this;return this.getRolesByProjectId(this.getProject._id).find((function(e){return e.userId===t.getProfile.auth._id}))}}),mounted:function(){var t=this;this.eventBus=k().subscribe((function(e){"task-view-updated"===e.name&&(t.taskId=e.data)}))}},In=Pn,xn=(a("76c0"),Object(me["a"])(In,wn,Sn,!1,null,"638aa4da",null)),En=xn.exports,Bn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-menu"},[a("router-link",{key:t.getTeam._id+"_members",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getTeam._id+"/team/members"}},[t._v(" Members ")]),a("router-link",{key:t.getTeam._id+"_projects",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getTeam._id+"/team/projects"}},[t._v(" Projects ")]),t.isTeamAdministrator?a("router-link",{key:t.getTeam._id+"_administrators",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getTeam._id+"/team/administrators"}},[t._v(" Administrators ")]):t._e(),t.isTeamAdministrator?a("router-link",{key:t.getTeam._id+"_changebackground",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getTeam._id+"/team/changebackground"}},[t._v(" Change Background ")]):t._e()],1)},An=[],Dn={name:"TeamContextNav",computed:Object(r["a"])({},Object(o["c"])(["getProfile","getTeam","getRolesByTeamId"]),{isTeamAdministrator:function(){var t=this;return this.getRolesByTeamId(this.getTeam._id).find((function(e){return e.userId===t.getProfile.auth._id}))}})},$n=Dn,Mn=(a("a41f"),Object(me["a"])($n,Bn,An,!1,null,"82564ac8",null)),Nn=Mn.exports,Rn={name:"NavMenu",components:{ProjectContextNav:En,TeamContextNav:Nn},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject","getTeam"]),{contextName:function(){var t;return null===(t=this.$route.meta)||void 0===t?void 0:t.context}})},Ln=Rn,Un=Object(me["a"])(Ln,jn,On,!1,null,null,null),Vn=Un.exports,zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-icon"},[t.getProfile.sidebar?t._e():a("i",{staticClass:"material-icons",attrs:{"data-test":"toggle-sidebar"},on:{click:function(e){return t.$emit("click")}}},[t._v(" menu ")])])},Fn=[],Hn={name:"MenuIcon",computed:Object(r["a"])({},Object(o["c"])(["getProfile"]))},Gn=Hn,qn=(a("09c8"),Object(me["a"])(Gn,zn,Fn,!1,null,"10d27e00",null)),Kn=qn.exports,Jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getProject?a("div",[a("Thumbnail",{attrs:{url:t.getProject.image}})],1):t._e(),t.getTeam?a("div",[a("Thumbnail",{attrs:{url:t.getTeam.image}})],1):t._e()])},Wn=[],Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thumbnail"},[a("img",{attrs:{src:t.url}})])},Xn=[],Qn={name:"Thumbnail",props:{url:String}},Zn=Qn,tr=(a("e294"),Object(me["a"])(Zn,Yn,Xn,!1,null,"73456f30",null)),er=tr.exports,ar={name:"ThumbnailSection",components:{Thumbnail:er},computed:Object(r["a"])({},Object(o["c"])(["getProject","getTeam"]))},sr=ar,ir=Object(me["a"])(sr,Jn,Wn,!1,null,"663b092c",null),nr=ir.exports,rr={name:"Topbar",data:function(){return{janusLogo:a("4dc3")}},components:{RightNav:vn,TitleRow:Tn,MenuIcon:Kn,ContextNav:Vn,ThumbnailSection:nr},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject"])),methods:Object(r["a"])({},Object(o["b"])(["removeAuth"]),{logout:function(){this.removeAuth(this.$cookies)}})},or=rr,cr=(a("0beb"),Object(me["a"])(or,$a,Ma,!1,null,"11d6c21d",null)),lr=cr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},ur=[],mr={name:"AppRouterView",computed:Object(r["a"])({},Object(o["c"])(["getProfile"]))},hr=mr,pr=(a("3b0e"),Object(me["a"])(hr,dr,ur,!1,null,"e5de06d8",null)),gr=pr.exports,fr={name:"Content",components:{Sidebar:Da,Topbar:lr,AppRouterView:gr},computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),methods:Object(r["a"])({},Object(o["b"])(["toggleSidebar"]))},vr=fr,br=(a("23a4"),Object(me["a"])(vr,ke,_e,!1,null,"0b206845",null)),kr=br.exports,_r={name:"App",components:{Notification:be,Container:kr},mounted:function(){ne.dispatch("fetchSpaces")},computed:Object(r["a"])({},Object(o["c"])(["getProfile"]))},yr=_r,Cr=(a("d209"),Object(me["a"])(yr,i,n,!1,null,null,null)),Tr=Cr.exports,jr=a("9483");Object(jr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var Or=a("8c4f"),wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("HomeContent")],1)},Sr=[],Pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-content"},[a("div",{staticClass:"container"},[a("div",{staticClass:"typography-10"},[t._v("Your Projects")]),a("section",{staticClass:"projects"},t._l(t.getProjects,(function(t){return a("div",{key:t._id},[a("Project",{attrs:{project:t}})],1)})),0)]),a("div",{staticClass:"container"},[a("div",{staticClass:"typography-10"},[t._v("Your Teams")]),a("section",{staticClass:"teams"},t._l(t.getTeams,(function(t){return a("div",{key:t._id},[a("Team",{attrs:{team:t}})],1)})),0)])])},Ir=[],xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[a("div",{},[t._v(t._s(t.project.name))]),a("div",{},[t._v(t._s(t.getTasks.length)+" open tasks")])])},Er=[],Br={name:"Project",props:{project:Object},computed:Object(r["a"])({},Object(o["c"])(["getTasks"]))},Ar=Br,Dr=(a("8286"),Object(me["a"])(Ar,xr,Er,!1,null,"3be89f78",null)),$r=Dr.exports,Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team"},[a("div",{},[t._v(t._s(t.team.name))]),a("div",{},[t._v("Administrator")])])},Nr=[],Rr={name:"Team",props:{team:Object}},Lr=Rr,Ur=(a("8c86"),Object(me["a"])(Lr,Mr,Nr,!1,null,"5644d767",null)),Vr=Ur.exports,zr={name:"HomeContent",components:{Project:$r,Team:Vr},computed:Object(r["a"])({},Object(o["c"])(["getProjects","getTeams"]))},Fr=zr,Hr=(a("b3fe"),Object(me["a"])(Fr,Pr,Ir,!1,null,"c7b65c2a",null)),Gr=Hr.exports,qr={name:"Home",components:{HomeContent:Gr}},Kr=qr,Jr=(a("2a61"),Object(me["a"])(Kr,wr,Sr,!1,null,"3e5836c6",null)),Wr=Jr.exports,Yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"landing"},[a("LandingContent")],1)},Xr=[],Qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"landing-content"},[a("div",{staticClass:"landing-content--logo"},[a("Logo")],1),a("div",{staticClass:"landing-content--container"},[a("div",{staticClass:"landing-content--container--left"},[a("ListSpaces")],1),a("hr"),a("div",{staticClass:"landing-content--container--right"},[a("GettingStarted")],1)])])},Zr=[],to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"getting-started"},[a("Individual"),t._m(0),a("Onboard")],1)},eo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"getting-started--divider"},[a("span",[t._v("-------")]),a("span",[t._v("or")]),a("span",[t._v("-------")])])}],ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"getting-started-onboard"},[a("div",{staticClass:"typography-10"},[t._v("I am a company")]),a("div",{staticClass:"typography-5"},[t._v(" If you are new and wanted to setup Janus for your organization, create a space in Oneauth to get started. You can create a space for your company, once you sign in to Oneauth administration console. ")]),a("OakButton",{attrs:{theme:"primary",label:"Create company space",variant:"appear"},on:{click:t.setupSpace}})],1)},so=[],io={name:"Onboard",components:{OakButton:Qa},methods:{setupSpace:function(){window.location.href="".concat("https://oneauth.ioak.org","/#/login?type=signup")}}},no=io,ro=(a("8682"),Object(me["a"])(no,ao,so,!1,null,"799ef276",null)),oo=ro.exports,co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"getting-started-individual"},[a("div",{staticClass:"typography-10"},[t._v("I am an individual")]),a("div",{staticClass:"typography-5"},[t._v(" If you are an individual and would like to use Janus for yourself, you can proceed with the common Janus space to create your project ")]),a("OakButton",{attrs:{theme:"primary",label:"Individual user (coming soon)",variant:"appear"},on:{click:t.setupSpace}})],1)},lo=[],uo={name:"Individual",components:{OakButton:Qa},methods:{setupSpace:function(){console.log("redirect to individual space")}}},mo=uo,ho=(a("54d0"),Object(me["a"])(mo,co,lo,!1,null,"9004d662",null)),po=ho.exports,go={name:"GettingStarted",components:{Onboard:oo,Individual:po}},fo=go,vo=(a("d3b5"),Object(me["a"])(fo,to,eo,!1,null,"7f8a4710",null)),bo=vo.exports,ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-spaces typography-10"},[a("div",{staticClass:"space-bottom-2"},[t._v("Choose your company space")]),a("div",{staticClass:"list-spaces--container"},t._l(t.getSpaces,(function(e){return a("div",{key:e._id,staticClass:"list-spaces--container--space typography-6",on:{click:function(a){return t.chooseSpace(e.spaceId)}}},[t._v(" "+t._s(e.name+" ("+e.spaceId+")")+" ")])})),0)])},_o=[],yo={name:"ListSpaces",props:{title:String,description:String},computed:Object(r["a"])({},Object(o["c"])(["getSpaces"])),methods:{chooseSpace:function(t){this.$router.push({name:"SpaceHomeDefault",params:{space:t}})}}},Co=yo,To=(a("40c3"),Object(me["a"])(Co,ko,_o,!1,null,"f323718c",null)),jo=To.exports,Oo={name:"LandingContent",components:{GettingStarted:bo,ListSpaces:jo,Logo:ba}},wo=Oo,So=(a("445a"),Object(me["a"])(wo,Qr,Zr,!1,null,"06ad7d88",null)),Po=So.exports,Io={name:"Landing",components:{LandingContent:Po}},xo=Io,Eo=(a("3775"),Object(me["a"])(xo,Yr,Xr,!1,null,"2e5dc330",null)),Bo=Eo.exports,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-projects",class:t.styleClass},[t.getTeam?a("div",{staticClass:"container"},[t._l(t.getProjectTeamsByTeamId(t.getTeam._id),(function(e){return a("div",{key:e._id},[a("Project",{attrs:{project:t.getProjectById(e.projectId)}})],1)})),t._l(t.getProjectTeamsByTeamId(t.getTeam._id),(function(e){return a("div",{key:e._id},[a("Project",{attrs:{project:t.getProjectById(e.projectId)}})],1)})),t._l(t.getProjectTeamsByTeamId(t.getTeam._id),(function(e){return a("div",{key:e._id},[a("Project",{attrs:{project:t.getProjectById(e.projectId)}})],1)}))],2):t._e()])},Do=[],$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project"},[a("div",{staticClass:"typography-4"},[t._v("Project Name")]),a("div",[t._v(t._s(t.project.name))]),a("div",{staticClass:"typography-4"},[t._v("Agile methodology")]),a("div",[t._v(t._s(t.project.type))]),a("div",{staticClass:"typography-4"},[t._v("Estimation Metric")]),a("div",[t._v(t._s(t.project.estimationMetric))])])},Mo=[],No={name:"Project",props:{project:Object}},Ro=No,Lo=(a("6aaa"),Object(me["a"])(Ro,$o,Mo,!1,null,"78382d25",null)),Uo=Lo.exports,Vo={name:"TeamProjects",components:{Project:Uo},computed:Object(r["a"])({},Object(o["c"])(["getTeam","getProjectTeamsByTeamId","getProjectById"]),{styleClass:function(){var t;return(null===(t=this.getTeam)||void 0===t?void 0:t.image)?"background-present":"background-not-present"}}),watch:{getTeam:function(){var t;(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-projects")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},mounted:function(){var t;(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-projects")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},zo=Vo,Fo=(a("7255"),Object(me["a"])(zo,Ao,Do,!1,null,"654c8e83",null)),Ho=Fo.exports,Go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-members",class:t.styleClass},[t.getTeam?a("div",{staticClass:"container"},[a("div",{staticClass:"action"},[t.teamNameDirty?a("OakButton",{attrs:{label:"Save",icon:"check",theme:"primary",variant:"regular"},on:{click:t.save}}):t._e(),a("OakButton",{attrs:{label:"Delete Team",theme:"primary",variant:"appear",fa:"fas fa-trash"},on:{click:t.toggleDeletePrompt}})],1),a("div",[a("OakText",{attrs:{data:t.data.name,id:"name",label:"Team name"},on:{change:t.handleChange}}),a("OakAutoComplete",{attrs:{objects:t.peopleList,label:"Search to add members",id:"people-search"},on:{change:t.addMember}})],1),a("div",{staticClass:"members"},t._l(t.getTeamMembersByTeamId(t.getTeam._id),(function(e,s){return a("div",{key:s},[a("Member",{attrs:{teamMember:e,team:t.getTeam}})],1)})),0)]):t._e(),t.getTeam?a("OakPrompt",{attrs:{visible:t.showDeletePrompt,text:"Are you sure you want to delete "+t.getTeam.name+"?"},on:{click:t.remove,close:t.toggleDeletePrompt}}):t._e()],1)},qo=[],Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakModal",{attrs:{visible:t.visible,noheader:""},on:{close:function(e){return t.$emit("close")}}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"modal-body typography-8 space-top-4 space-bottom-4 confirmation-text"},[t._v(" "+t._s(t.text?t.text:"Are you sure you want to continue?")+" ")])]),a("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("div",{staticClass:"modal-footer"},[a("OakButton",{attrs:{"data-test":"action-close",theme:"default",variant:"appear",align:"left",label:"No",fa:"fas fa-times"},on:{click:function(e){return t.$emit("close")}}}),a("OakButton",{attrs:{"data-test":"action-proceed",theme:"primary",variant:"disappear",align:"right",label:"Yes",fa:"fas fa-check"},on:{click:function(e){t.$emit("click"),t.$emit("close")}}})],1)])])},Jo=[],Wo={name:"OakPrompt",components:{OakModal:is,OakButton:Qa},props:{visible:Boolean,text:String}},Yo=Wo,Xo=(a("dda5"),Object(me["a"])(Yo,Ko,Jo,!1,null,"6e2c607c",null)),Qo=Xo.exports,Zo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member"},[a("div",{staticClass:"name"},[t.isTeamAdministrator?a("OakIcon",{attrs:{mat:"supervisor_account"}}):t._e(),t._v(" "+t._s(t.member?t.member.firstName+" "+t.member.lastName:"")+" ")],1),t.confirmPrompt?a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt delete",on:{click:t.remove}},[t._v("Confirm")]),a("div",{staticClass:"confirm-prompt",on:{click:t.toggleConfirmPrompt}},[t._v(" Cancel ")])]):a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt trigger",on:{click:t.toggleConfirmPrompt}},[a("OakIcon",{attrs:{mat:"close"}})],1)])])},tc=[],ec={name:"Member",props:{teamMember:Object,team:Object},components:{OakIcon:ra},data:function(){return{confirmPrompt:!1}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getRolesByTeamId"]),{member:function(){return this.getUserById(this.teamMember.userId)},isTeamAdministrator:function(){var t=this;return this.getRolesByTeamId(this.team._id).find((function(e){return e.userId===t.teamMember.userId}))}}),methods:Object(r["a"])({},Object(o["b"])(["deleteTeamMember"]),{remove:function(){this.deleteTeamMember(this.teamMember._id),this.toggleConfirmPrompt()},toggleConfirmPrompt:function(){this.confirmPrompt=!this.confirmPrompt}})},ac=ec,sc=(a("fd70"),Object(me["a"])(ac,Zo,tc,!1,null,"bbe83cae",null)),ic=sc.exports,nc={name:"TeamMembers",components:{OakAutoComplete:Ri,OakText:Ms,OakButton:Qa,OakPrompt:Qo,Member:ic},data:function(){return{showDeletePrompt:!1,teamNameDirty:!1,data:{name:""}}},computed:Object(r["a"])({},Object(o["c"])(["getTeam","getUsers","getUserById","getTeamMembersByTeamId"]),{styleClass:function(){var t;return(null===(t=this.getTeam)||void 0===t?void 0:t.image)?"background-present":"background-not-present"},peopleList:function(){var t,e=[];return null===(t=this.getUsers)||void 0===t||t.forEach((function(t){e.push({key:t._id,value:"".concat(t.firstName," ").concat(t.lastName)})})),e}}),methods:Object(r["a"])({},Object(o["b"])(["saveTeam","deleteTeam","saveTeamMember"]),{handleChange:function(){this.teamNameDirty=!0,this.data[event.target.name]=event.target.value},toggleDeletePrompt:function(){this.showDeletePrompt=!this.showDeletePrompt},addMember:function(t){this.saveTeamMember({teamId:this.getTeam._id,userId:t})},remove:function(){this.deleteTeam(this.getTeam._id)},save:function(){this.saveTeam(Object(r["a"])({},this.getTeam,{},this.data))}}),watch:{getTeam:function(){var t;this.data=Object(r["a"])({},this.data,{},this.getTeam),(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-members")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},mounted:function(){var t;this.data=Object(r["a"])({},this.data,{},this.getTeam),(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-members")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},rc=nc,oc=(a("7861"),Object(me["a"])(rc,Go,qo,!1,null,"1b03b219",null)),cc=oc.exports,lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.taskId,staticClass:"task-view"},[a("div",{staticClass:"task-view-content"},[a("TaskContent",{attrs:{task:t.task}})],1)])},dc=[],uc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-content"},[a("OakTab",{staticClass:"task-tab",attrs:{meta:t.tabDetails}},[a("div",{attrs:{slot:"details"},slot:"details"},[a("div",{staticClass:"content single-column",attrs:{slot:"content"},slot:"content"},[a("ViewDetails",{attrs:{task:t.task},on:{typeChange:t.handleChange}})],1)]),a("div",{attrs:{slot:"attachments"},slot:"attachments"},[a("div",{staticClass:"content single-column",attrs:{slot:"content"},slot:"content"},[a("Attachment",{attrs:{task:t.task}})],1)]),a("div",{attrs:{slot:"checklist"},slot:"checklist"},[a("div",{staticClass:"content single-column",attrs:{slot:"content"},slot:"content"},[a("ViewChecklist",{attrs:{task:t.task},on:{viewUpdated:function(e){return t.$emit("viewUpdated")}}})],1)]),a("div",{attrs:{slot:"subtask"},slot:"subtask"},[a("div",{staticClass:"content single-column",attrs:{slot:"content"},slot:"content"},[a("ViewSubtask",{attrs:{task:t.task},on:{viewUpdated:function(e){return t.$emit("viewUpdated")}}})],1)]),a("div",{attrs:{slot:"comments"},slot:"comments"},[a("div",{staticClass:"content single-column comments-section",attrs:{slot:"content"},slot:"content"},[t._l(t.getCommentsForTask,(function(t){return a("div",{key:t._id},[a("ViewComment",{attrs:{comment:t}})],1)})),t.comment.showNew?a("OakText",{attrs:{id:"text",label:"Comment text",data:t.comment.text,multiline:"",rows:10},on:{change:t.handleCommentChange}}):t._e(),a("div",{staticClass:"action"},[t.comment.showNew?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Save Comment"},on:{click:t.saveComment}}):t._e(),t.comment.showNew?t._e():a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"New Comment"},on:{click:t.toggleAddComment}}),t.comment.showNew?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Cancel"},on:{click:t.toggleAddComment}}):t._e()],1)],2)]),a("div",{attrs:{slot:"activity"},slot:"activity"},[a("div",{staticClass:"content single-column",attrs:{slot:"content"},slot:"content"},[a("ViewLog",{attrs:{logs:t.logs}})],1)])])],1)},mc=[],hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-tab"},[a("div",{ref:"header",staticClass:"header"},t._l(t.meta,(function(e){return a("div",{key:e.slotName,staticClass:"tab typography-6",class:t.activeTab===e.slotName?"active":"",on:{click:function(a){return t.switchTab(e.slotName)}}},[a("div",{staticClass:"icon"},[a("i",{staticClass:"material-icons typography-8",class:t.activeTab===e.slotName?"active":""},[t._v(t._s(e.icon))])]),a("div",{staticClass:"label"},[t._v(t._s(e.label))])])})),0),t._l(t.meta,(function(e){return a("div",{key:e.slotName,staticClass:"content",class:e.slotName===t.activeTab?"active":"inactive"},[t._t(e.slotName)],2)}))],2)},pc=[],gc={name:"OakTab",props:{meta:Array},data:function(){return{activeTab:""}},mounted:function(){this.activeTab=this.meta&&this.meta.length>0?this.meta[0].slotName:""},methods:{switchTab:function(t){this.activeTab=t}}},fc=gc,vc=(a("580b"),Object(me["a"])(fc,hc,pc,!1,null,"153eaa08",null)),bc=vc.exports,kc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-log"},[t._m(0),t._l(t.logs,(function(e){return a("div",{key:e._id,staticClass:"log-row"},[a("div",[t._v(t._s(e.field))]),a("div",["assignedTo"===e.field&&t.getUserById(e.before)?a("Avatar",{attrs:{showName:"",user:t.getUserById(e.before)}}):t._e(),"description"===e.field?a("div",{domProps:{innerHTML:t._s(e.before)}}):a("div",[t._v(t._s(e.before))])],1),a("div",["assignedTo"===e.field&&t.getUserById(e.after)?a("Avatar",{attrs:{showName:"",user:t.getUserById(e.after)}}):t._e(),"description"===e.field?a("div",{domProps:{innerHTML:t._s(e.after)}}):a("div",[t._v(t._s(e.after))])],1),a("div",[t.getUserById(e.createdBy)?a("Avatar",{attrs:{showName:"",user:t.getUserById(e.createdBy)}}):t._e()],1),a("div",[t._v(t._s(e.createdAt))])])}))],2)},_c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-row typography-4"},[a("div",[t._v("Field")]),a("div",[t._v("From")]),a("div",[t._v("To")]),a("div",[t._v("Changed by")]),a("div",[t._v("Changed at")])])}],yc={name:"ViewLog",props:{logs:Array},components:{Avatar:Cs},computed:Object(r["a"])({},Object(o["c"])(["getUserById"]))},Cc=yc,Tc=(a("5e1b"),Object(me["a"])(Cc,kc,_c,!1,null,"acf3ed2a",null)),jc=Tc.exports,Oc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-comment"},[a("div",{staticClass:"top-row space-bottom-1"},[a("div",{staticClass:"space-right-1"},[a("Avatar",{attrs:{user:t.user}})],1),a("div",{staticClass:"typography-4"},[a("div",{staticClass:"user-name typography-4"},[t._v(t._s(t.user.name))]),a("div",[t._v(t._s(t.user.createdAt))])])]),a("div",{staticClass:"content"},[t._v(t._s(t.comment.text))])])},wc=[],Sc={name:"ViewComment",props:{comment:Object},components:{Avatar:Cs},computed:Object(r["a"])({},Object(o["c"])(["getUserById"]),{user:function(){return this.getUserById(this.comment.createdBy)}})},Pc=Sc,Ic=(a("2572"),Object(me["a"])(Pc,Oc,wc,!1,null,"cb73680c",null)),xc=Ic.exports,Ec=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.getAttachmentsForTask,(function(t){return a("div",{key:t._id},[a("AttachmentLink",{attrs:{data:t}})],1)})),a("OakAttach",{on:{change:t.handleChange}})],2)},Bc=[],Ac=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-attach"},[a("div",{staticClass:"drop-container",class:t.dragClass,on:{dragover:function(e){return e.preventDefault(),t.dragOver(e)},drop:function(e){return e.preventDefault(),t.drop(e)},dragleave:t.dragLeave}},[t._m(0),a("div",[t._v("Drop your files here")]),a("div",[t._v("or")]),a("div",{staticClass:"file-input"},[a("label",{staticClass:"file-upload space-top-1 space-bottom-4"},[a("input",{attrs:{type:"file",multiple:"multiple",required:""},on:{change:t.chooseFiles}}),t._m(1)])])]),a("div",{staticClass:"file-names"},t._l(t.files,(function(e){return a("div",{key:e.name,staticClass:"typography-3"},[t._v(" "+t._s(e.name)+" ")])})),0)])},Dc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"material-icons"},[t._v("cloud_upload")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action"},[a("i",{staticClass:"material-icons"},[t._v("attach_file")]),a("div",{staticClass:"text"},[t._v("Browse")])])}],$c={name:"OakAttach",data:function(){return{dragClass:"",files:[]}},methods:{dragOver:function(t){this.dragClass="dropping"},dragLeave:function(t){this.dragClass=""},drop:function(t){this.dragClass="",this.processFiles(t.dataTransfer.files),this.dragClass=""},chooseFiles:function(t){this.processFiles(t.target.files)},processFiles:function(t){this.files=t,this.$emit("change",t)}}},Mc=$c,Nc=(a("96eb"),Object(me["a"])(Mc,Ac,Dc,!1,null,"543d6b2f",null)),Rc=Nc.exports,Lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"attachment-link"},[a("div",{staticClass:"attachment-row"},[a("div",{staticClass:"left"},[t._m(0),a("div",{staticClass:"filename",on:{click:t.downloadAttachment}},[t._v(" "+t._s(t.data.name+" ("+t.humanReadableByteSize(t.data.size)+")")+" ")])]),a("div",{staticClass:"right"},[a("OakButton",{attrs:{label:"delete",theme:"primary",variant:"appear"},on:{click:t.toggleDeletePrompt}})],1)]),a("OakPrompt",{attrs:{visible:t.showDeletePrompt,text:"Are you sure you want to delete the attachment? ("+t.data.name+")"},on:{click:t.removeAttachment,close:t.toggleDeletePrompt}})],1)},Uc=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("i",{staticClass:"material-icons"},[t._v("attach_file")])])}],Vc=(a("ace4"),a("b680"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("2b3d"),"https://janus-service.herokuapp.com"),zc={name:"AttachmentLink",props:{data:Object},computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),data:function(){return{showDeletePrompt:!1}},components:{OakButton:Qa,OakPrompt:Qo},methods:Object(r["a"])({},Object(o["b"])(["deleteTaskAttachment"]),{toggleDeletePrompt:function(){this.showDeletePrompt=!this.showDeletePrompt},humanReadableByteSize:function(t){if(0==t)return"0.00 B";var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+" KMGTP".charAt(e)+"B"},base64ToArrayBuffer:function(t){for(var e=window.atob(t),a=e.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=e.charCodeAt(i);return s},removeAttachment:function(){this.deleteTaskAttachment({taskId:this.data.taskId,attachmentId:this.data._id})},downloadAttachment:function(){var t=this;g.a.get("".concat(Vc,"/attachment/task/").concat(this.getProfile.space,"/").concat(this.data._id),{headers:{Authorization:"".concat(this.getProfile.auth.token)}}).then((function(e){var a=new Blob([t.base64ToArrayBuffer(e.data)],{type:"application/pdf"}),s=document.createElement("a");s.href=window.URL.createObjectURL(a),s.download=t.data.name,s.click()})).catch((function(t){console.log(t)}))}})},Fc=zc,Hc=(a("2200"),Object(me["a"])(Fc,Lc,Uc,!1,null,"11930eae",null)),Gc=Hc.exports,qc={name:"Attachment",components:{OakAttach:Rc,AttachmentLink:Gc},props:{task:Object},computed:Object(r["a"])({},Object(o["c"])(["getAttachmentsForTask"])),mounted:function(){this.task&&this.fetchTaskAttachments(this.task._id)},watch:{task:function(){this.fetchTaskAttachments(this.task._id)}},methods:Object(r["a"])({},Object(o["b"])(["saveTaskAttachment","fetchTaskAttachments"]),{handleChange:function(t){var e=this;t.forEach((function(t){e.saveTaskAttachment({taskId:e.task._id,attachment:t})}))}})},Kc=qc,Jc=Object(me["a"])(Kc,Ec,Bc,!1,null,"b321115a",null),Wc=Jc.exports,Yc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-subtask"},[t.data.showNew?a("div",{staticClass:"create-sub-task"},[t.taskTypes.length>1?a("div",[a("OakSelect",{attrs:{data:t.data.type,id:"type",label:"Task type",elements:t.taskTypes},on:{change:t.handleChange}})],1):a("div",[t._v(t._s(t.taskTypes[0]))]),a("OakText",{attrs:{id:"title",label:"Summary",data:t.data.title},on:{change:t.handleChange}}),a("OakText",{attrs:{id:"description",label:"Description",data:t.data.description,multiline:"",rows:10},on:{change:t.handleChange}})],1):a("div",{staticClass:"list-view"},t._l(t.subtasks,(function(t){return a("div",{key:t._id},[a("SubtaskRow",{attrs:{subtask:t}})],1)})),0),a("div",{staticClass:"action"},[t.data.showNew?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Save Sub-task"},on:{click:t.save}}):t._e(),t.data.showNew?t._e():a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Add existing"},on:{click:t.toggleAdd}}),t.data.showNew?t._e():a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"New"},on:{click:t.toggle}}),t.data.showNew?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Cancel"},on:{click:t.toggle}}):t._e()],1),a("ChooseTask",{attrs:{visible:t.addDialog,multiselect:"",task:t.task,types:t.taskTypes},on:{toggle:t.toggleAdd,choose:t.handleAddTask}})],1)},Xc=[],Qc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subtask-row"},[a("div",{staticClass:"left"},[a("div",{staticClass:"single-row"},[a("TaskTypeBadge",{attrs:{type:t.subtask.type}}),a("div",{staticClass:"task-id space-left-1",on:{click:t.toggleTask}},[t._v(" "+t._s(t.subtask.taskId)+" ")])],1),a("div",[t._v(t._s(t.subtask.title))]),a("div",{staticClass:"two-liner typography-4"},[t._v(" "+t._s(t.toPlainText(t.subtask.description))+" ")]),a("div",{staticClass:"action"},[a("div",{staticClass:"action-item",on:{click:t.unlink}},[a("i",{staticClass:"material-icons"},[t._v("link_off")])])])]),a("div",{staticClass:"right"},[a("div",{staticClass:"members"},[t._l(t.members,(function(e,s){return[s<2?a("Avatar",{key:e._id,attrs:{user:e}}):t._e()]})),t.members.length>2?a("div",{staticClass:"members-more"},[t._v(" "+t._s("+"+(t.members.length-2))+" ")]):t._e()],2)]),a("UpdateTask",{key:t.subtask._id,attrs:{visible:t.editTask,task:t.subtask},on:{toggle:t.toggleTask}})],1)},Zc=[],tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"task-type"},["Story"===t.type?a("div",{staticClass:"story icon"},[a("OakIcon",{attrs:{mat:"menu_book",color:t.color?t.color:"warning"}})],1):t._e(),"Task"===t.type?a("div",{staticClass:"task icon"},[a("OakIcon",{attrs:{mat:"bookmark",color:t.color?t.color:"primary"}})],1):t._e(),"Sub-task"===t.type?a("div",{staticClass:"sub-task icon"},[a("OakIcon",{attrs:{mat:"book",color:t.color?t.color:"primary"}})],1):t._e(),"Defect"===t.type?a("div",{staticClass:"defect icon"},[a("OakIcon",{attrs:{mat:"bug_report",color:t.color?t.color:"failure"}})],1):t._e(),"Epic"===t.type?a("div",{staticClass:"epic icon"},[a("OakIcon",{attrs:{svg:"epic",color:t.color?t.color:"failure"}})],1):t._e()]):t._e()},el=[],al={name:"TaskTypeBadge",components:{OakIcon:ra},props:{type:String,color:String},computed:{show:function(){return"Story"===this.type||"Task"===this.type||"Sub-task"===this.type||"Defect"===this.type||"Epic"===this.type}}},sl=al,il=(a("770e"),Object(me["a"])(sl,tl,el,!1,null,"cd1a5eca",null)),nl=il.exports,rl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakModal",{attrs:{visible:t.visible,label:"Quick Edit - Task",icon:"edit"},on:{close:function(e){return t.$emit("toggle")}}},[a("div",{staticClass:"form",attrs:{slot:"modal-body"},slot:"modal-body"},[t.task.taskId?t._e():a("OakSelect",{attrs:{data:t.data.projectId,id:"projectId",label:"Project name",objects:t.projectDropDown},on:{change:t.handleChange}}),t.task.taskId?t._e():a("OakSelect",{attrs:{data:t.data.stageId,label:"Workflow",id:"stageId",objects:t.stageDropDown},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.type,id:"type",label:"Task type",elements:["Epic","Story","Task","Sub-task","Defect"]},on:{change:t.handleChange}}),a("OakText",{attrs:{data:t.data["title"],id:"title",label:"Title"},on:{change:t.handleChange}}),a("OakEditor",{attrs:{id:"task-description-"+t.task._id,label:"Description",data:t.data.description,alwaysEdit:""},on:{change:t.handleDescriptionChange}}),t.chosenProject&&"Time estimate"===t.chosenProject.estimationMetric?a("OakText",{attrs:{data:t.data.timeEstimate,id:"timeEstimate",label:"Time estimate ("+t.data.timeEstimate+" hours)",type:"number"},on:{change:t.handleChange}}):a("OakText",{attrs:{data:t.data.storyPoints,id:"storyPoints",label:"Story points",type:"number"},on:{change:t.handleChange}}),a("Assignee",{attrs:{assignedTo:t.data.assignedTo,projectId:t.data.projectId},on:{remove:t.removeAssignee,add:t.addAssignee}})],1),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("div",[t.task.taskId?a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"visibility",label:"Detailed View"},on:{click:t.openDetailedView}}):t._e()],1),a("div",[a("OakButton",{attrs:{theme:"primary",variant:"appear",icon:"check",label:"Save"},on:{click:t.save}})],1)])])},ol=[],cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{className:"markdown-body"}},[a("div",{domProps:{innerHTML:t._s(t.htmlContent)}})])},ll=[],dl=a("339e"),ul=a.n(dl),ml=new ul.a.Converter({tables:!0}),hl={name:"OakShowdown",props:{source:String},computed:{htmlContent:function(){return ml.makeHtml(this.source)}}},pl=hl,gl=(a("4060"),Object(me["a"])(pl,cl,ll,!1,null,"6b4c768b",null)),fl=(gl.exports,{name:"UpdateTask",components:{OakModal:is,OakEditor:_i,OakButton:Qa,OakText:Ms,OakSelect:zs,Assignee:zi},props:{task:Object,visible:Boolean},data:function(){return{data:{projectId:"",stageId:"",type:"",priority:"",title:"",description:"",assignedTo:""}}},computed:Object(r["a"])({},Object(o["c"])(["getProjects","getStagesByProjectId","getProjectById","getProfile"]),{chosenProject:function(){return this.getProjectById(this.data.projectId)},projectDropDown:function(){var t=[];return this.getProjects.forEach((function(e){return t.push({key:e._id,value:e.name})})),t},stageDropDown:function(){var t=[];return this.getStagesByProjectId(this.data.projectId).forEach((function(e){return t.push({key:e._id,value:e.name})})),t}}),created:function(){this.data=Object(r["a"])({},this.task)},watch:{task:function(){this.data=Object(r["a"])({},this.task)}},methods:Object(r["a"])({},Object(o["b"])(["saveTask"]),{handleChange:function(t){this.data[event.target.name]=void 0!==t&&null!==t?t:event.target.value},handleDescriptionChange:function(t){this.data.description=t},save:function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveTask(this.data);case 2:e=t.sent,e&&this.$emit("toggle");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),removeAssignee:function(t){this.data.assignedTo=this.data.assignedTo.filter((function(e){return e!==t}))},addAssignee:function(t){this.data.assignedTo||(this.data.assignedTo=[]),this.data.assignedTo.includes(t)||this.data.assignedTo.push(t)},openDetailedView:function(){b("modal",!1),b("project-view-updated",!0,{view:"task",taskId:this.task.taskId}),this.$router.push({path:"/".concat(this.getProfile.space,"/").concat(this.task.projectId,"/dashboard"),query:{view:"task",taskid:this.task.taskId}})}})}),vl=fl,bl=(a("0108"),Object(me["a"])(vl,rl,ol,!1,null,"2a3fd55d",null)),kl=bl.exports,_l={name:"SubtaskRow",props:{subtask:Object},data:function(){return{editTask:!1}},components:{Avatar:Cs,TaskTypeBadge:nl,UpdateTask:kl},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getProfile"]),{user:function(){return this.getUserById(this.subtask.createdBy)},members:function(){var t,e=this,a=[];return null===(t=this.subtask.assignedTo)||void 0===t||t.forEach((function(t){return a.push(e.getUserById(t))})),a}}),methods:Object(r["a"])({},Object(o["b"])(["saveTask"]),{unlink:function(){this.saveTask(Object(r["a"])({},this.subtask,{parentTaskId:null}))},toPlainText:function(t){return O(t)},toggleTask:function(){this.editTask=!this.editTask}})},yl=_l,Cl=(a("8171"),Object(me["a"])(yl,Qc,Zc,!1,null,"38919fbf",null)),Tl=Cl.exports,jl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("OakModal",{attrs:{visible:t.visible,label:t.label||"Choose task"},on:{close:function(e){return t.$emit("toggle")}}},[a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"choose-task"},[a("div",{staticClass:"search-bar"},[a("div",[a("OakText",{attrs:{data:t.searchCriteria.text,id:"text",label:"Type to search by title"},on:{change:t.handleChange}})],1),a("div",[a("OakSelect",{attrs:{data:t.searchCriteria.stageId,id:"stageId",label:"Choose workflow",objects:t.stageDropDown},on:{change:t.handleChange}})],1)]),a("div",t._l(t.view,(function(e){return a("div",{key:e._id,staticClass:"record"},[t.multiselect?a("div",[a("OakCheckbox",{attrs:{theme:"primary",variant:"circle",id:e._id,data:t.chosenList.includes(e._id)},on:{change:t.handleCheckboxChange}})],1):a("div",[a("OakRadio",{attrs:{theme:"primary",variant:"circle",id:e._id,data:t.chosenItem===e._id},on:{change:t.handleRadioChange}})],1),a("div",[t._v(t._s(e.taskId))]),a("div",[t._v(t._s(e.type))]),a("div",{staticClass:"title"},[t._v(t._s(e.title))])])})),0)])]),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[t.chosenItem||0!==t.chosenList.length?t._e():a("OakButton",{attrs:{label:"Choose to proceed",theme:"default",variant:"regular disabled"},on:{click:t.submit}}),t.multiselect&&t.chosenList.length>0?a("OakButton",{attrs:{label:t.chosenList.length+" selected",theme:"primary",variant:"regular"},on:{click:t.submit}}):t._e(),!t.multiselect&&t.chosenItem?a("OakButton",{attrs:{label:"Choose selected",theme:"primary",variant:"regular"},on:{click:t.submit}}):t._e()],1)])},Ol=[],wl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-check-box",class:t.style},[a("div",{staticClass:"checkbox-container"},[a("label",{staticClass:"checkbox"},[a("input",{attrs:{type:"checkbox",name:t.id,id:t.id,disabled:t.disabled},domProps:{checked:t.data},on:{change:function(e){return t.$emit("change")}}}),a("label",{staticClass:"typography-5",attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")])])])])},Sl=[],Pl={name:"OakCheckbox",props:{label:String,id:String,data:Boolean,labelPosition:String,variant:String,theme:String,disabled:Boolean},computed:{style:function(){var t=this.theme?this.theme:"";return t+=this.variant?" ".concat(this.variant):"",t}},methods:{handleChange:function(t){event.target.value=t,this.$emit("change",event)}}},Il=Pl,xl=(a("84e6"),Object(me["a"])(Il,wl,Sl,!1,null,"8d387188",null)),El=xl.exports,Bl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-radio",class:t.style},[a("label",{staticClass:"container"},[a("input",{attrs:{type:"radio",name:t.id,id:t.id,disabled:t.disabled},domProps:{checked:t.data},on:{change:function(e){return t.$emit("change")}}}),a("span",{staticClass:"checkmark"})])])},Al=[],Dl={name:"OakRadio",props:{label:String,id:String,data:Boolean,labelPosition:String,variant:String,theme:String,disabled:Boolean},computed:{style:function(){var t=this.theme?this.theme:"";return t+=this.variant?" ".concat(this.variant):"",t}},methods:{handleChange:function(t){event.target.value=t,this.$emit("change",event)}}},$l=Dl,Ml=(a("5b67"),Object(me["a"])($l,Bl,Al,!1,null,"7579e6e2",null)),Nl=Ml.exports,Rl={name:"ChooseTask",components:{OakButton:Qa,OakSelect:zs,OakText:Ms,OakCheckbox:El,OakRadio:Nl,OakModal:is},props:{task:Object,types:Array,multiselect:Boolean,visible:Boolean,label:String},data:function(){return{chosenList:[],chosenItem:null,searchCriteria:{stageId:"",text:""}}},computed:Object(r["a"])({},Object(o["c"])(["getTasks","getStagesByProjectId"]),{permittedTasks:function(){var t=this;return this.types?this.getTasks.filter((function(e){return t.types.includes(e.type)})):this.getTasks},view:function(){var t=this;return j(this.searchCriteria.text)&&j(this.searchCriteria.stageId)?this.permittedTasks:j(this.searchCriteria.stageId)?this.permittedTasks.filter((function(e){var a;return null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(t.searchCriteria.text.toLowerCase())})):j(this.searchCriteria.text)?this.permittedTasks.filter((function(e){return e.stageId===t.searchCriteria.stageId})):this.permittedTasks.filter((function(e){var a;return!(e.stageId!==t.searchCriteria.stageId||null===(a=e.title)||void 0===a||!a.toLowerCase().includes(t.searchCriteria.text.toLowerCase()))}))},stageDropDown:function(){var t,e,a=[];return null===(t=this.getStagesByProjectId(null===(e=this.task)||void 0===e?void 0:e.projectId))||void 0===t||t.forEach((function(t){return a.push({key:t._id,value:t.name})})),a}}),watch:{visible:function(){this.chosenList=[],this.chosenItem=null}},methods:{handleChange:function(){this.searchCriteria[event.target.name]=event.target.value},handleCheckboxChange:function(){event.target.checked?this.chosenList.push(event.target.name):this.chosenList=this.chosenList.filter((function(t){return t!==event.target.name}))},handleRadioChange:function(){this.chosenItem=event.target.name},submit:function(){this.$emit("choose",this.multiselect?this.chosenList:this.chosenItem)}}},Ll=Rl,Ul=(a("9a91"),Object(me["a"])(Ll,jl,Ol,!1,null,"0ad364c2",null)),Vl=Ul.exports,zl={name:"ViewSubtask",components:{OakButton:Qa,OakText:Ms,OakSelect:zs,SubtaskRow:Tl,ChooseTask:Vl},props:{task:Object},data:function(){return{data:{showNew:!1,title:"",description:"",type:""},addDialog:!1}},computed:Object(r["a"])({},Object(o["c"])(["getSubtasksByTaskId","getTaskById"]),{subtasks:function(){return this.task?this.getSubtasksByTaskId(this.task._id):[]},taskTypes:function(){var t=[];switch(this.task.type){case"Story":t=["Sub-task","Defect"];break;case"Epic":t=["Story","Task","Defect"];break;case"Task":return["Sub-task","Defect"]}return t}}),methods:Object(r["a"])({},Object(o["b"])(["saveTask"]),{toggle:function(){this.data.showNew=!this.data.showNew,this.data=Object(r["a"])({},this.data,{title:"",description:"",type:""}),this.$emit("viewUpdated")},toggleAdd:function(){this.addDialog=!this.addDialog},handleChange:function(){this.data[event.target.name]=event.target.value},handleAddTask:function(t){var e=this;null===t||void 0===t||t.forEach((function(t){e.saveTask(Object(r["a"])({},e.getTaskById(t),{parentTaskId:e.task._id}))})),this.toggleAdd()},save:function(){this.saveTask({type:this.data.type,stageId:this.task.stageId,title:this.data.title,description:this.data.description,priority:this.task.priority,projectId:this.task.projectId,parentTaskId:this.task._id}),this.toggle()}})},Fl=zl,Hl=(a("8b39"),Object(me["a"])(Fl,Yc,Xc,!1,null,"6bb40f32",null)),Gl=Hl.exports,ql=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-checklist"},[a("div",{staticClass:"create-checklistgroup"},[a("OakText",{attrs:{id:"group",data:t.data.group,label:"Create new group"},on:{change:t.handleChange}}),t.data.group?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Create"},on:{click:t.saveGroup}}):t._e()],1),t._l(t.getChecklistGroups,(function(e){return a("div",{key:e,staticClass:"checklist-group"},[a("ChecklistGroup",{attrs:{group:e,taskId:t.task._id}}),a("div",{staticClass:"hr"})],1)}))],2)},Kl=[],Jl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checklist-group"},[a("div",{staticClass:"group-label"},[a("OakInplaceEdit",{attrs:{id:"groupName",data:t.data,nopad:""},on:{blur:t.changeGroup}}),a("div",{staticClass:"task-count"},[t._v(" "+t._s(t.completedTasksCount)+"/"+t._s(t.getChecklistItemsByGroup(t.group).length)+" "),t.completedTasksCount===t.getChecklistItemsByGroup(t.group).length?[a("i",{staticClass:"material-icons complete"},[t._v("check_circle")])]:t._e(),t.completedTasksCount!==t.getChecklistItemsByGroup(t.group).length&&t.completedTasksCount>0?[a("i",{staticClass:"material-icons started"},[t._v("play_circle_filled")])]:t._e(),t.completedTasksCount!==t.getChecklistItemsByGroup(t.group).length&&0===t.completedTasksCount?[a("i",{staticClass:"material-icons notstarted"},[t._v("play_circle_outline")])]:t._e()],2)],1),a("div",{staticClass:"content"},[t._l(t.getChecklistItemsByGroup(t.group),(function(e){return a("div",{key:e._id,staticClass:"checklist-item"},[a("div",[a("OakCheckbox",{attrs:{id:"checkbox-"+e._id,theme:"default",variant:"circle",data:e.isComplete},on:{change:function(a){return t.toggleCheck(e)}}})],1),a("div",{staticClass:"checklist-item-text",class:e.isComplete?"complete":"not-complete"},[a("OakInplaceEdit",{attrs:{id:"text",data:e},on:{blur:function(a){return t.changeText(e)}}})],1),a("div",{staticClass:"action"},[a("i",{staticClass:"material-icons",on:{click:function(a){return t.removeItem(e._id)}}},[t._v("close")])])])})),a("div",{staticClass:"create-checklistitem"},[a("OakText",{attrs:{id:"text",data:t.data.text,label:"Add new item",placeholder:"Type to add new item"},on:{change:t.handleChange}}),t.data.text?a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Add"},on:{click:t.save}}):t._e()],1)],2)])},Wl=[],Yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-inplace-edit"},[a("div",{staticClass:"switchable-cotent"},[!t.switchable||t.editable?a("div",{staticClass:"editable-content",class:t.nopad?"nopad":"",attrs:{id:"inplace-"+t.id,contenteditable:"true",name:t.id},on:{blur:t.handleKeyup,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleKeyup(e)}}},[t._v(" "+t._s(t.data[t.id])+" ")]):a("div",{staticClass:"view-content one-liner",class:t.nopad?"nopad":"",on:{click:t.showEdit}},[t._t("view-content")],2)])])},Xl=[],Ql={name:"OakInplaceEdit",props:{id:String,data:Object,nopad:Boolean},data:function(){return{editable:!1}},computed:{switchable:function(){return!!this.$slots["view-content"]},editText:function(){return this.data[this.id]}},methods:{handleKeyup:function(t){t.preventDefault(),this.editable=!this.editable,t.target["value"]=t.target.innerText,t.target["name"]=this.id,this.$emit("blur",t)},showEdit:function(){var t=this;this.editable=!this.editable,setTimeout((function(){document.getElementById("inplace-".concat(t.id))[0].focus()}),0)}}},Zl=Ql,td=(a("d3fb"),Object(me["a"])(Zl,Yl,Xl,!1,null,"0a39072c",null)),ed=td.exports,ad={name:"ChecklistGroup",props:{taskId:String,group:String},data:function(){return{data:{text:""}}},mounted:function(){this.data=Object(r["a"])({},this.data,{groupName:this.group})},components:{OakText:Ms,OakButton:Qa,OakCheckbox:El,OakInplaceEdit:ed},computed:Object(r["a"])({},Object(o["c"])(["getChecklistItemsByGroup"]),{completedTasksCount:function(){return this.getChecklistItemsByGroup(this.group).filter((function(t){return t.isComplete})).length}}),methods:Object(r["a"])({},Object(o["b"])(["saveTaskChecklistitem","deleteTaskChecklistitem"]),{save:function(){this.saveTaskChecklistitem({text:this.data.text,isComplete:!1,group:this.group,taskId:this.taskId}),this.data.text="",this.$emit("viewUpdated")},handleChange:function(){this.data[event.target.name]=event.target.value},toggleCheck:function(t){this.saveTaskChecklistitem(Object(r["a"])({},t,{isComplete:!!event.target.value}))},changeText:function(t){this.saveTaskChecklistitem(Object(r["a"])({},t,{text:event.target.value}))},changeGroup:function(){var t=this;this.getChecklistItemsByGroup(this.group).forEach((function(e){t.saveTaskChecklistitem(Object(r["a"])({},e,{group:event.target.value}))}))},removeItem:function(t){this.deleteTaskChecklistitem({checklistitemId:t,taskId:this.taskId})}})},sd=ad,id=(a("bdf9"),Object(me["a"])(sd,Jl,Wl,!1,null,"3ef94132",null)),nd=id.exports,rd={name:"ViewChecklist",props:{task:Object},components:{OakText:Ms,OakButton:Qa,ChecklistGroup:nd},data:function(){return{data:{text:"",group:""},groupName:"testgroup"}},computed:Object(r["a"])({},Object(o["c"])(["getChecklistGroups"])),methods:Object(r["a"])({},Object(o["b"])(["saveTaskChecklistitem"]),{save:function(t){this.saveTaskChecklistitem({text:this.data.text,isComplete:!1,group:t,taskId:this.task._id}),this.data.text="",this.$emit("viewUpdated")},saveGroup:function(){this.data.text="First item",this.save(this.data.group),this.data.group=""},handleChange:function(){this.data[event.target.name]=event.target.value}})},od=rd,cd=(a("8171e"),Object(me["a"])(od,ql,Kl,!1,null,"aac2947e",null)),ld=cd.exports,dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-details"},[a("div",{staticClass:"section"},[a("OakText",{attrs:{data:t.data.title,id:"title",label:"Title"},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.type,label:"Task type",id:"type",elements:["Epic","Story","Task","Sub-task","Defect"]},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.stageId,id:"stageId",label:"Workflow",objects:t.stageDropDown},on:{change:t.handleChange}}),a("OakSelect",{attrs:{data:t.data.priority,id:"priority",label:"Priority",elements:["Low","Medium","High","Critical"]},on:{change:t.handleChange}}),t.chosenProject&&"Time estimate"===t.chosenProject.estimationMetric?a("OakText",{attrs:{data:t.data.timeEstimate,id:"timeEstimate",label:"Time estimate ("+t.data.timeEstimate+" hours)",type:"number"},on:{change:t.handleChange}}):a("OakText",{attrs:{data:t.data.storyPoints,id:"storyPoints",label:"Story points",type:"number"},on:{change:t.handleChange}}),a("Assignee",{attrs:{assignedTo:t.data.assignedTo,projectId:t.data.projectId},on:{remove:t.removeAssignee,add:t.addAssignee}}),t.task&&!["Epic"].includes(t.data.type)?[t.data.parentTaskId?a("div",{staticClass:"parent-task"},[a("div",{staticClass:"typography-4"},[t._v("Parent Task")]),a("div",{staticClass:"typography-4 one-line-text"},[t._v(" "+t._s(t.getTaskById(t.data.parentTaskId).taskId+" ("+t.getTaskById(t.data.parentTaskId).title+")")+" ")]),a("div",{staticClass:"parent-task-link",on:{click:t.toggleParentSelectionDialogOpen}},[t._v(" Change ")])]):a("div",{staticClass:"parent-task"},[a("div",{staticClass:"typography-4"},[t._v("Parent Task")]),a("div",{staticClass:"parent-task-link",on:{click:t.toggleParentSelectionDialogOpen}},[t._v(" Choose ")])])]:t._e(),t.task&&!["Epic"].includes(t.data.type)?[t.data.epic?a("div",{staticClass:"epic"},[a("div",{staticClass:"typography-4"},[t._v("Epic")]),a("div",{staticClass:"typography-4 one-line-text"},[t._v(" "+t._s(t.getTaskById(t.data.epic).taskId+" ("+t.getTaskById(t.data.epic).title+")")+" ")]),a("div",{staticClass:"epic-link",on:{click:t.toggleEpicSelectionDialogOpen}},[t._v(" Change ")])]):a("div",{staticClass:"epic"},[a("div",{staticClass:"typography-4"},[t._v("Epic")]),a("div",{staticClass:"epic-link",on:{click:t.toggleEpicSelectionDialogOpen}},[t._v(" Choose ")])])]:t._e(),a("div",{staticClass:"deadline"},[a("OakDate",{attrs:{label:"Deadline",data:t.data.deadline,id:"deadline"},on:{change:t.handleChange}})],1),a("div",[t.data.stageId?a("OakEditor",{attrs:{id:"task-description",label:"Description",alwaysEdit:"",data:t.data.description},on:{change:t.handleDescriptionChange}}):t._e()],1)],2),a("div",{staticClass:"action"},[a("OakButton",{attrs:{theme:"primary",variant:"appear",label:"Save basic details"},on:{click:t.save}})],1),a("ChooseTask",{attrs:{visible:t.parentSelectionDialogOpen,task:t.task,label:"Choose parent task",types:["Story","Task"]},on:{toggle:t.toggleParentSelectionDialogOpen,choose:t.handleParentTaskChange}}),a("ChooseTask",{attrs:{visible:t.epicSelectionDialogOpen,task:t.task,label:"Choose epic",types:["Epic"]},on:{toggle:t.toggleEpicSelectionDialogOpen,choose:t.handleEpicChange}})],1)},ud=[],md=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-date"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{disabled:t.disabled,type:"date",name:t.id},domProps:{value:t.value},on:{change:function(e){return t.onChange(t.value)},input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.label?a("label",{attrs:{for:t.id}},[t._v(" "+t._s(t.label)+" ")]):t._e()])},hd=[],pd={name:"OakDate",props:{label:String,id:String,data:String,errorFields:Object,disabled:Boolean},data:function(){return{value:"2020-01-01"}},mounted:function(){this.value=this.data},watch:{data:function(){this.value=this.data}},methods:{onChange:function(t){this.$emit("change",{target:{name:this.id,value:t}})}}},gd=pd,fd=(a("1476"),Object(me["a"])(gd,md,hd,!1,null,"49f43faa",null)),vd=fd.exports,bd={name:"ViewDetails",components:{OakEditor:_i,OakText:Ms,OakSelect:zs,Assignee:zi,OakButton:Qa,OakDate:vd,ChooseTask:Vl},props:{task:Object},data:function(){return{data:{projectId:"",stageId:"",type:"",priority:"",title:"",description:"",assignedTo:[],parentTaskId:"",epic:"",deadline:"2020-01-01"},parentSelectionDialogOpen:!1,epicSelectionDialogOpen:!1}},computed:Object(r["a"])({},Object(o["c"])(["getStagesByProjectId","getProjectById","getTaskById"]),{projectDropDown:function(){var t=[];return this.getProjects.forEach((function(e){return t.push({key:e._id,value:e.name})})),t},chosenProject:function(){return this.getProjectById(this.data.projectId)},stageDropDown:function(){var t=[];return this.getStagesByProjectId(this.data.projectId).forEach((function(e){return t.push({key:e._id,value:e.name})})),t}}),mounted:function(){this.data=Object(r["a"])({},this.data,{},this.task)},watch:{task:function(){this.data=Object(r["a"])({},this.data,{},this.task)}},methods:Object(r["a"])({},Object(o["b"])(["saveTask"]),{toggleParentSelectionDialogOpen:function(){this.parentSelectionDialogOpen=!this.parentSelectionDialogOpen},toggleEpicSelectionDialogOpen:function(){this.epicSelectionDialogOpen=!this.epicSelectionDialogOpen},handleChange:function(){console.log(event),this.data[event.target.name]=event.target.value,"type"===event.target.name&&this.$emit("typeChange",event)},handleDescriptionChange:function(t){this.data.description=t},handleParentTaskChange:function(t){this.data.parentTaskId=t,this.toggleParentSelectionDialogOpen()},handleEpicChange:function(t){this.data.epic=t,this.toggleEpicSelectionDialogOpen()},removeAssignee:function(t){this.data.assignedTo=this.data.assignedTo.filter((function(e){return e!==t}))},addAssignee:function(t){this.data.assignedTo||(this.data.assignedTo=[]),this.data.assignedTo.includes(t)||this.data.assignedTo.push(t)},save:function(){this.saveTask(this.data)}})},kd=bd,_d=(a("67ee"),Object(me["a"])(kd,dd,ud,!1,null,"72b1766e",null)),yd=_d.exports,Cd={name:"TaskContent",components:{OakButton:Qa,OakText:Ms,OakTab:bc,ViewDetails:yd,ViewComment:xc,ViewLog:jc,ViewSubtask:Gl,ViewChecklist:ld,Attachment:Wc},props:{task:Object},data:function(){return{data:{type:""},comment:{text:"",showNew:!1},alwaysEditFields:["type","stageId","priority"],tabDetailsMaster:[{slotName:"details",label:"Basic details",icon:"subject"},{slotName:"attachments",label:"Attachments",icon:"attach_file"},{slotName:"checklist",label:"Checklist",icon:"playlist_add_check"},{slotName:"subtask",label:"Sub task",icon:"call_merge"},{slotName:"comments",label:"Comments",icon:"chat_bubble_outline"},{slotName:"activity",label:"Activity",icon:"history"}]}},computed:Object(r["a"])({},Object(o["c"])(["getProjects","getStagesByProjectId","getProjectById","getTaskById","getLogs","getCommentsForTask"]),{projectDropDown:function(){var t=[];return this.getProjects.forEach((function(e){return t.push({key:e._id,value:e.name})})),t},logs:function(){return this.getLogs("Task")},tabDetails:function(){return["Task","Story","Epic"].includes(this.data.type)?this.tabDetailsMaster:this.tabDetailsMaster.filter((function(t){return!["subtask"].includes(t.slotName)}))}}),mounted:function(){this.postTaskUpdateAction(this.task)},watch:{task:function(){this.postTaskUpdateAction(this.task)}},methods:Object(r["a"])({},Object(o["b"])(["saveTask","saveTaskComment","fetchTaskComments","fetchTaskChecklistitems","fetchLogs"]),{handleChange:function(){this.data[event.target.name]=event.target.value},handleCommentChange:function(){this.comment[event.target.name]=event.target.value},handleDescriptionChange:function(t){this.data.description=t},saveComment:function(){this.saveTaskComment({taskId:this.task._id,text:this.comment.text}),this.toggleAddComment()},clearAssignee:function(){this.data.assignedTo=""},handleAssigneeChange:function(t){this.data.assignedTo=t},toggleAddComment:function(){this.comment.showNew=!this.comment.showNew,this.comment.text=""},postTaskUpdateAction:function(t){this.data=Object(r["a"])({},t),this.task&&(this.fetchTaskComments(this.task._id),this.fetchTaskChecklistitems(this.task._id),this.fetchLogs({domain:"Task",reference:this.task._id}))}})},Td=Cd,jd=(a("47a9"),Object(me["a"])(Td,uc,mc,!1,null,"c1f9e27a",null)),Od=jd.exports,wd={name:"TaskView",props:{taskId:String},components:{TaskContent:Od},computed:Object(r["a"])({},Object(o["c"])(["getTaskByTaskId","getProject"]),{task:function(){return this.getTaskByTaskId(this.taskId)}})},Sd=wd,Pd=(a("a716"),Object(me["a"])(Sd,lc,dc,!1,null,"82d2d1ee",null)),Id=Pd.exports,xd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"planning",class:t.styleClass},[a("div",{staticClass:"left"},[a("div",{class:t.styleClass},[a("Toolbar",{staticClass:"toolbar-container",attrs:{showFilterBar:t.showFilterBar},on:{viewTypeChange:t.switchView,toggleFilter:t.toggleFilter}})],1),a("div",{staticClass:"planning-content"},[["board","list"].includes(t.view)?a("div",{staticClass:"filterbar-container"},[a("Filterbar",{class:t.showFilterBar?"show":"hide",on:{viewTypeChange:t.switchView}})],1):t._e(),a("div",{staticClass:"content-container",class:["board","list"].includes(t.view)&&t.showFilterBar?"filter-on":""},["list"===t.view?a("ListView",{attrs:{searchCriteria:t.searchCriteria,sortCriteria:t.sortCriteria}}):t._e(),"board"===t.view?a("BoardView",{attrs:{searchCriteria:t.searchCriteria,sortCriteria:t.sortCriteria,showFilterBar:t.showFilterBar}}):t._e(),"epic"===t.view?a("EpicList",{attrs:{epicId:t.selectedRecentTask}}):t._e(),"sprint"===t.view?a("SprintView"):t._e(),"task"===t.view?a("TaskView",{attrs:{taskId:t.selectedRecentTask}}):t._e()],1)])])])},Ed=[],Bd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getProject?[a("div",{key:t.getProject._id,staticClass:"toolbar"},[a("div",{staticClass:"left"},[a("router-link",{key:t.getProject._id+"_board",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard?view=board"}},[t._v(" Board ")]),a("router-link",{key:t.getProject._id+"_list",staticClass:"nav-item desktop-only",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard?view=list"}},[t._v(" List ")]),a("router-link",{key:t.getProject._id+"_epic",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard?view=epic"}},[t._v(" Epic ")]),"Scrum"===t.getProject.type?a("router-link",{key:t.getProject._id+"_sprint",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/dashboard?view=sprint"}},[t._v(" Sprint ")]):t._e(),t.recentTasks&&t.recentTasks.length>0?a("OakPopoverMenu",{staticClass:"desktop-only",attrs:{elements:t.recentTasks,data:"option 1",id:"toolbar-recent-task-switch",labelVariant:"on",theme:"primary",left:""}},[a("div",{attrs:{slot:"label"},slot:"label"},["task"===t.page?a("div",{staticClass:"recent-tasks active"},[t._v(" "+t._s(t.$route.query.taskid||"Recent")+" ")]):a("div",{staticClass:"recent-tasks"},[t._v(" Recent ")])])]):t._e()],1),a("div",{staticClass:"right"},[a("div",{staticClass:"filter",on:{click:function(e){return t.$emit("toggleFilter")}}},[a("OakIcon",{attrs:{mat:"filter_list"}}),a("div",[t._v("Filter")]),a("OakIcon",{class:t.showFilterBar?"show":"hide",attrs:{mat:"keyboard_arrow_down"}})],1)])])]:t._e()],2)},Ad=[],Dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-filter"},[a("div",{staticClass:"filter-label",class:t.searchCriteriaMap.assignedTo?"active":"",on:{click:t.searchAssignedToMe}},[t._v(" Assigned to me ")]),a("div",[a("OakPopoverMenu",{attrs:{elements:t.typeFilter,id:"board-view-filter-type",right:""}},[t.searchCriteriaMap.type?a("div",{staticClass:"filter-label active",attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s("Task type: "+t.searchCriteriaMap.type)+" ")]):a("div",{staticClass:"filter-label",attrs:{slot:"label"},slot:"label"},[t._v(" Task type ")])])],1),a("div",[a("OakPopoverMenu",{attrs:{elements:t.sortFields,id:"board-view-sorting",right:""}},[t.sortCriteria.field?a("div",{staticClass:"filter-label active",attrs:{slot:"label"},slot:"label"},[t.sortCriteria.ascending?a("OakIcon",{attrs:{mat:"text_rotation_down"}}):a("OakIcon",{attrs:{mat:"text_rotate_up"}}),t._v(" "+t._s("Sort by: "+t.sortLabels[t.sortCriteria.field])+" ")],1):a("div",{staticClass:"filter-label",attrs:{slot:"label"},slot:"label"},[t._v(" Sort by ")])])],1)])},$d=[],Md=(a("841c"),{name:"TaskFilter",data:function(){var t=this;return{searchCriteria:[{field:"",text:""}],sortCriteria:{field:"",ascending:!0},sortFields:[{label:"Task Id",action:function(){return t.sort("taskId")}},{label:"Task type",action:function(){return t.sort("type")}},{label:"Epic",action:function(){return t.sort("epic")}},{label:"Title",action:function(){return t.sort("title")}},{label:"Assigned To",action:function(){return t.sort("assignedTo")}},{label:"Priority",action:function(){return t.sort("priority")}},{label:"Clear",action:function(){return t.sort("")}}],typeFilter:[{label:"Epic",action:function(){return t.search("type","Epic")},svg:"epic"},{label:"Story",action:function(){return t.search("type","Story")},icon:"menu_book"},{label:"Task",action:function(){return t.search("type","Task")},icon:"bookmark"},{label:"Defect",action:function(){return t.search("type","Defect")},icon:"bug_report"},{label:"Sub-task",action:function(){return t.search("type","Sub-task")},icon:"book"},{label:"Clear",action:function(){return t.search("type","")},icon:"close"}],sortLabels:{taskId:"Task Id",type:"Task Type",epic:"Epic",title:"Title",assignedTo:"Assigned To",priority:"Priority"}}},components:{OakIcon:ra,OakPopoverMenu:qa},mounted:function(){var t=this;this.loadFiltersFromSession(),k().subscribe((function(e){"request-task-filter-change-search"===e.name?t.search(e.data.field,e.data.text):"request-task-filter-change-sort"===e.name&&(t.sortCriteria={field:e.data.field,ascending:e.data.ascending})}))},watch:{getProject:function(){this.loadFiltersFromSession()},sortCriteria:function(){w(this.getProject._id,"taskSortCriteria",this.sortCriteria)},searchCriteria:{deep:!0,handler:function(){w(this.getProject._id,"taskSearchCriteria",this.searchCriteria)}}},computed:Object(r["a"])({},Object(o["c"])(["getProject","getUserByEmail","getProfile"]),{searchCriteriaMap:function(){var t={};return this.searchCriteria.forEach((function(e){t[e.field]=e.text})),t},user:function(){var t,e;return null===this||void 0===this?void 0:this.getUserByEmail(null===this||void 0===this||null===(t=this.getProfile)||void 0===t||null===(e=t.auth)||void 0===e?void 0:e.email)}}),methods:{sort:function(t){this.sortCriteria.field===t?this.sortCriteria.ascending=!this.sortCriteria.ascending:this.sortCriteria={field:t,ascending:!0},b("task-filter-change-sort",!0,this.sortCriteria)},search:function(t,e){if(e){var a=!1;this.searchCriteria.forEach((function(s){s.field===t&&(s.text=e,a=!0)})),a||this.searchCriteria.push({field:t,text:e})}else this.searchCriteria=this.searchCriteria.filter((function(e){return e.field!==t}));b("task-filter-change-search",!0,this.searchCriteria)},loadFiltersFromSession:function(){if(this.getProject){var t=S(this.getProject._id,"taskSearchCriteria");t&&(this.searchCriteria=t,b("task-filter-change-search",!0,t));var e=S(this.getProject._id,"taskSortCriteria");e&&(this.sortCriteria=e,b("task-filter-change-sort",!0,e))}},searchAssignedToMe:function(){var t;this.searchCriteria.find((function(t){return"assignedTo"===t.field}))?this.search("assignedTo",""):this.search("assignedTo",null===(t=this.user)||void 0===t?void 0:t._id)}}}),Nd=Md,Rd=(a("d71b"),Object(me["a"])(Nd,Dd,$d,!1,null,"2d1908bf",null)),Ld=Rd.exports,Ud={name:"Toolbar",props:{showFilterBar:Boolean},components:{OakPopoverMenu:qa,OakIcon:ra},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject","getTaskToView","getTaskByTaskId"]),{page:function(){return this.$route.query.view||"board"},recentTasks:function(){var t=this,e=[];return this.getTaskToView.map((function(a){var s,i="",n="";switch(null===(s=t.getTaskByTaskId(a))||void 0===s?void 0:s.type){case"Story":i="menu_book";break;case"Task":i="bookmark";break;case"Sub-task":i="book";break;case"Defect":i="bug_report";break;case"Epic":n="epic";break}e.push({label:a,action:function(){return t.switchToTask(a)},icon:i,svg:n})})),e}}),watch:{page:{handler:function(t){"task"===t?this.$emit("viewTypeChange",t,this.$route.query.taskid):this.$emit("viewTypeChange",t)},immediate:!0}},methods:{switchToTask:function(t){this.$emit("viewTypeChange","task",t),this.$router.push({path:"/".concat(this.getProfile.space,"/").concat(this.getProject._id,"/dashboard"),query:{view:"task",taskid:t}})}}},Vd=Ud,zd=(a("107d"),Object(me["a"])(Vd,Bd,Ad,!1,null,"0d22a774",null)),Fd=zd.exports,Hd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"epic-list"},t._l(t.getEpicTasks,(function(t){return a("div",{key:t._id},[a("EpicPreview",{attrs:{epic:t}})],1)})),0)},Gd=[],qd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"epic-preview"},[a("div",{staticClass:"left"},[a("div",{on:{click:t.openEpicDetailed}},[a("div",{staticClass:"task-id typography-7"},[t._v(t._s(t.epic.taskId))])]),a("div",{staticClass:"task-type-row"},[t.taskTypeMap["Task"].remaining>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Task"}}),a("div",[t._v(t._s(t.taskTypeMap["Task"].remaining))])],1):t._e(),t.taskTypeMap["Sub-task"].remaining>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Sub-task"}}),a("div",[t._v(t._s(t.taskTypeMap["Sub-task"].remaining))])],1):t._e(),t.taskTypeMap["Defect"].remaining>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Defect"}}),a("div",[t._v(t._s(t.taskTypeMap["Defect"].remaining))])],1):t._e(),t.taskTypeMap["Story"].remaining>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Story"}}),a("div",[t._v(t._s(t.taskTypeMap["Story"].remaining))])],1):t._e()]),a("div",{staticClass:"task-type-row"},[t.taskTypeMap["Task"].total>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Task",color:"var(--color-background-5)"}}),a("div",{staticClass:"task-count-disabled"},[t._v(t._s(t.taskTypeMap["Task"].total))])],1):t._e(),t.taskTypeMap["Sub-task"].total>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Sub-task",color:"var(--color-background-5)"}}),a("div",{staticClass:"task-count-disabled"},[t._v(" "+t._s(t.taskTypeMap["Sub-task"].total)+" ")])],1):t._e(),t.taskTypeMap["Defect"].total>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Defect",color:"var(--color-background-5)"}}),a("div",{staticClass:"task-count-disabled"},[t._v(" "+t._s(t.taskTypeMap["Defect"].total)+" ")])],1):t._e(),t.taskTypeMap["Story"].total>0?a("div",{staticClass:"task-type-badge"},[a("TaskTypeBadge",{attrs:{type:"Story",color:"var(--color-background-5)"}}),a("div",{staticClass:"task-count-disabled"},[t._v(" "+t._s(t.taskTypeMap["Story"].total)+" ")])],1):t._e()]),a("div",{staticClass:"estimation typography-4"},[a("div",[t._v("Original time estimate - "+t._s(t.estimate.total))]),a("div",[t._v("Remaining time estimate - "+t._s(t.estimate.remaining))])]),a("div",[t._v(t._s(t.epic.title))]),a("div",{staticClass:"three-liner"},[t._v(t._s(t.toPlainText(t.epic.description)))])]),a("div",{staticClass:"right"},[a("TaskStatusBadge",{attrs:{status:t.epic.status,showOpen:""}})],1)])},Kd=[],Jd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"task-status"},["open"===t.status?a("div",{staticClass:"icon open"},[a("OakIcon",{attrs:{mat:"calendar_today"}})],1):t._e(),"complete"===t.status?a("div",{staticClass:"icon complete"},[a("OakIcon",{attrs:{mat:"check_circle",color:"success"}})],1):t._e(),"archived"===t.status?a("div",{staticClass:"icon archived"},[a("OakIcon",{attrs:{mat:"archived",color:"var(--color-background-5)"}})],1):t._e()]):t._e()},Wd=[],Yd={name:"TaskStatusBadge",components:{OakIcon:ra},props:{status:String,showOpen:Boolean},computed:{show:function(){return this.showOpen?["open","complete","archived"].includes(this.status):["complete","archived"].includes(this.status)}}},Xd=Yd,Qd=(a("97c4"),Object(me["a"])(Xd,Jd,Wd,!1,null,"7100b06c",null)),Zd=Qd.exports,tu={name:"EpicPreview",props:{epic:Object},components:{TaskTypeBadge:nl,TaskStatusBadge:Zd},computed:Object(r["a"])({},Object(o["c"])(["getSubtasksByTaskId","getProjectById","getProfile"]),{estimate:function(){var t=0,e=0;return"Time estimate"===this.getProjectById(this.epic.projectId).estimationMetric?(this.getSubtasksByTaskId(this.epic._id).forEach((function(a){t+=a.timeEstimate||0,"open"===a.status&&(e+=a.timeEstimate||0)})),{total:t+" hrs",remaining:e+" hrs"}):(this.getSubtasksByTaskId(this.epic._id).forEach((function(a){t+=a.storyPoints||0,"open"===a.status&&(e+=a.storyPoints||0)})),{total:t+" pts",remaining:e+" pts"})},taskTypeMap:function(){var t={Task:{total:0,remaining:0},"Sub-task":{total:0,remaining:0},Defect:{total:0,remaining:0},Story:{total:0,remaining:0},Total:{total:0,remaining:0}};return this.getSubtasksByTaskId(this.epic._id).forEach((function(e){t[e.type].total+=1,t.Total.total+=1,"open"===e.status&&(t[e.type].remaining+=1,t.Total.remaining+=1)})),t}}),methods:{toPlainText:function(t){return O(t)},openEpicDetailed:function(){console.log("open"),this.$router.push({path:"/".concat(this.getProfile.space,"/").concat(this.epic.projectId,"/dashboard"),query:{view:"task",taskid:this.epic.taskId}})}}},eu=tu,au=(a("ca97"),Object(me["a"])(eu,qd,Kd,!1,null,"0cdec59c",null)),su=au.exports,iu={name:"EpicList",props:{epicId:String},components:{EpicPreview:su},computed:Object(r["a"])({},Object(o["c"])(["getEpicTasks"]))},nu=iu,ru=(a("2fb6"),Object(me["a"])(nu,Hd,Gd,!1,null,"f0bffc36",null)),ou=ru.exports,cu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("sprint view")])},lu=[],du={name:"SprintView"},uu=du,mu=Object(me["a"])(uu,cu,lu,!1,null,"7a548bd2",null),hu=mu.exports,pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board"},[a("div",{staticClass:"board-content"},t._l(t.getStagesByProjectId(),(function(e){return a("div",{key:e._id},[a("vertical-lane",{attrs:{stage:e,sortCriteria:t.sortCriteria,searchCriteria:t.searchCriteria,showFilterBar:t.showFilterBar}})],1)})),0)])},gu=[],fu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"lane-vertical",class:t.showFilterBar?"filter-on":""},[a("div",{staticClass:"header typography-4",attrs:{draggable:"true"},on:{dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragstart:t.dragStart,dragend:t.dragEnd,drop:function(e){return e.preventDefault(),t.drop(e)},dragleave:t.dragLeave}},[a("div",{staticClass:"stage-name",on:{click:t.toggleStage}},[t._v(t._s(t.stage.name))]),a("div",{staticClass:"header-actions"},[a("div",{on:{click:t.toggleTask}},[a("i",{staticClass:"material-icons"},[t._v("add")])])])]),a("div",{staticClass:"container",class:t.isDragging?"dragging":""},[t.tasks.length>0?t._l(t.tasks,(function(t){return a("div",{key:t.id,attrs:{id:t.id}},[a("Card",{attrs:{task:t}})],1)})):a("div",[a("EmptyPlaceholderCard",{attrs:{stage:t.stage,showFilterBar:t.showFilterBar}})],1)],2)]),a("NewTask",{attrs:{task:t.taskStub,visible:t.newTask},on:{toggle:t.toggleTask,success:t.toggleTask}}),a("OakModal",{attrs:{visible:t.editStage,label:"Edit Stage",icon:"edit"},on:{close:t.toggleStage}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("UpdateStage",{attrs:{stage:t.stage},on:{success:t.toggleStage}})],1)])],1)},vu=[],bu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card",class:t.dragClass,attrs:{draggable:"true"},on:{dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragstart:t.dragStart,dragend:t.dragEnd,drop:function(e){return e.preventDefault(),t.drop(e)},click:t.toggleTask,dragleave:t.dragLeave}},[a("CardPreview",{attrs:{task:t.task}})],1),a("UpdateTask",{attrs:{visible:t.editTask,task:t.task},on:{toggle:t.toggleTask}})],1)},ku=[],_u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-preview"},[a("div",{staticClass:"row-one"},[a("div",{staticClass:"left"},[a("TaskTypeBadge",{attrs:{type:t.task.type}}),a("div",{staticClass:"preview"},[a("div",{staticClass:"typography-5"},[t._v(t._s(t.task.taskId))])])],1),a("div",{staticClass:"right"},[t._l(t.members,(function(e,s){return[s<2?a("Avatar",{key:e._id,attrs:{user:e}}):t._e()]})),t.members.length>2?a("div",{staticClass:"members-more"},[t._v(" "+t._s("+"+(t.members.length-2))+" ")]):t._e()],2)]),a("div",{staticClass:"row-two"},[a("div",{staticClass:"typography-4"},[t._v(" "+t._s((t.task.title.length,t.task.title))+" ")])]),a("div",{staticClass:"row-three"},[a("div",{staticClass:"left"},[a("TaskPriorityBadge",{attrs:{priority:t.task.priority}}),a("TaskChildCountBadge",{attrs:{taskId:t.task._id}}),a("TaskAttachmentCountBadge",{attrs:{taskId:t.task._id}}),a("TaskStatusBadge",{attrs:{status:t.task.status}})],1),a("div",{staticClass:"right typography-3"},[a("div",[t._v(t._s(t.formatDateText(t.task.deadline)))]),t.getProject&&"Time estimate"===t.getProject.estimationMetric&&t.task.timeEstimate>0?a("div",{staticClass:"estimate"},[t._v(" "+t._s(t.task.timeEstimate)+" ")]):t._e(),t.getProject&&"Story points"===t.getProject.estimationMetric&&t.task.storyPoints>0?a("div",{staticClass:"estimate"},[t._v(" "+t._s(t.task.storyPoints)+" ")]):t._e()])]),t.epic?a("div",{staticClass:"row-four"},[a("div",[a("EpicBadge",{attrs:{epic:t.epic}})],1)]):t._e()])},yu=[],Cu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"task-priority"},["Low"===t.priority?a("div",{staticClass:"icon low"},[a("OakIcon",{attrs:{mat:"arrow_downward",color:"success"}})],1):t._e(),"Medium"===t.priority?a("div",{staticClass:"icon medium"},[a("OakIcon",{attrs:{mat:"import_export"}})],1):t._e(),"High"===t.priority?a("div",{staticClass:"icon high"},[a("OakIcon",{attrs:{mat:"arrow_upward",color:"failure"}})],1):t._e(),"Critical"===t.priority?a("div",{staticClass:"icon critical"},[a("OakIcon",{attrs:{mat:"arrow_upward",color:"red"}})],1):t._e()]):t._e()},Tu=[],ju={name:"TaskPriorityBadge",components:{OakIcon:ra},props:{priority:String},computed:{show:function(){return"Low"===this.priority||"Medium"===this.priority||"High"===this.priority||"Critical"===this.priority}}},Ou=ju,wu=(a("4617"),Object(me["a"])(Ou,Cu,Tu,!1,null,"4b8d91d2",null)),Su=wu.exports,Pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getSubtasksByTaskId(t.taskId).length>0?a("div",{staticClass:"task-child-count"},[a("div",{staticClass:"icon"},[a("OakIcon",{attrs:{mat:"call_merge",color:"var(--color-secondary-1)"}})],1),a("div",{staticClass:"count"},[t._v(" "+t._s(t.getSubtasksByTaskId(t.taskId).length)+" ")])]):t._e()},Iu=[],xu={name:"TaskChildCountBadge",components:{OakIcon:ra},props:{taskId:String},computed:Object(r["a"])({},Object(o["c"])(["getSubtasksByTaskId"]))},Eu=xu,Bu=(a("94a7"),Object(me["a"])(Eu,Pu,Iu,!1,null,"61186cca",null)),Au=Bu.exports,Du=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getSubtasksByTaskId(t.taskId).length>0?a("div",{staticClass:"task-child-count"},[a("div",{staticClass:"icon"},[a("OakIcon",{attrs:{mat:"call_merge",color:"var(--color-secondary-1)"}})],1),a("div",{staticClass:"count"},[t._v(" "+t._s(t.getSubtasksByTaskId(t.taskId).length)+" ")])]):t._e()},$u=[],Mu={name:"TaskAttachmentCountBadge",components:{OakIcon:ra},props:{taskId:String},computed:Object(r["a"])({},Object(o["c"])(["getSubtasksByTaskId"]))},Nu=Mu,Ru=(a("7d9f"),Object(me["a"])(Nu,Du,$u,!1,null,"89a53ea8",null)),Lu=Ru.exports,Uu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.epic?a("div",{staticClass:"epic-badge one-liner",class:t.epic.color},[t._v(" "+t._s(t.epic.taskId+": "+t.epic.title)+" ")]):t._e()},Vu=[],zu={name:"EpicBadge",props:{epic:Object}},Fu=zu,Hu=(a("c9f8"),Object(me["a"])(Fu,Uu,Vu,!1,null,"4be43567",null)),Gu=Hu.exports,qu=a("b166"),Ku=(new Date).getFullYear(),Ju="MMM d",Wu="MMM d, yyyy",Yu=function(t){if(t){var e=new Date(t);return Object(qu["a"])(e,e.getFullYear()===Ku?Ju:Wu)}return""},Xu={name:"CardPreview",props:{task:Object},components:{Avatar:Cs,TaskTypeBadge:nl,TaskPriorityBadge:Su,TaskStatusBadge:Zd,TaskChildCountBadge:Au,TaskAttachmentCountBadge:Lu,EpicBadge:Gu},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getSubtasksByTaskId","getTaskById","getProject"]),{assignedToUser:function(){return this.getUserById(this.task.assignedTo)},epic:function(){return this.getTaskById(this.task.epic)},members:function(){var t,e=this,a=[];return null===(t=this.task.assignedTo)||void 0===t||t.forEach((function(t){return a.push(e.getUserById(t))})),a}}),methods:{formatDateText:function(t){return Yu(t)}}},Qu=Xu,Zu=(a("3705"),Object(me["a"])(Qu,_u,yu,!1,null,"6787eb22",null)),tm=Zu.exports,em={name:"Card",components:{UpdateTask:kl,CardPreview:tm},props:{task:{type:Object,required:!0}},data:function(){return{editTask:!1,dragClass:""}},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getUserById","getCommentsForTask"])),methods:Object(r["a"])({},Object(o["b"])(["moveTask","moveStage"]),{dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("id",this.task._id),t.dataTransfer.setData("domain","task"),setTimeout((function(){console.log("here you can set display as none")}),0)},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot",(this.getProfile.sidebar&&t.screenX<=270||!this.getProfile.sidebar&&t.screenX<=20)&&b("dragging"),t.screenX>window.innerWidth*window.devicePixelRatio-20&&b("dragging")},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");this.dragClass="","task"===e?this.moveTask({moveTaskId:a,afterTaskId:this.task._id}):"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.task.stageId})},toggleTask:function(){this.editTask=!this.editTask}})},am=em,sm=(a("deaf"),Object(me["a"])(am,bu,ku,!1,null,"b2378bee",null)),im=sm.exports,nm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card",class:t.dragClass,on:{dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragstart:t.dragStart,dragend:t.dragEnd,drop:function(e){return e.preventDefault(),t.drop(e)},dragleave:t.dragLeave}},[a("div",{staticClass:"container",class:t.showFilterBar?"filter-on":""})])])},rm=[],om={name:"EmptyPlaceholderCard",props:{stage:{type:Object,required:!0},showFilterBar:Boolean},data:function(){return{dragClass:""}},computed:Object(r["a"])({},Object(o["c"])(["getTaskById"]),{assignedToUser:function(){return this.getUserById(this.task.assignedTo)}}),methods:Object(r["a"])({},Object(o["b"])(["saveTask","moveStage"]),{dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("id",this.task._id),setTimeout((function(){console.log("here you can set display as none")}),0)},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot"},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");this.dragClass="",this.dragClass="","task"===e?this.saveTask(Object(r["a"])({},this.getTaskById(a),{stageId:this.stage._id})):"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.stage._id})}})},cm=om,lm=(a("64e5"),Object(me["a"])(cm,nm,rm,!1,null,"39c6168a",null)),dm=lm.exports,um={name:"VerticalLane",components:{OakModal:is,Card:im,NewTask:qi,UpdateStage:Qi,EmptyPlaceholderCard:dm},props:{stage:Object,sortCriteria:Object,searchCriteria:Array,showFilterBar:Boolean},data:function(){return{isDragging:!1,newTask:!1,editStage:!1,taskStub:{stageId:this.stage._id,type:"Story",title:"",description:"",priority:"",assignedTo:[],parentTaskId:null,projectId:"",timeEstimate:0,storyPoints:0,status:"open"}}},methods:Object(r["a"])({},Object(o["b"])(["moveStage","saveTask"]),{toggleTask:function(){this.newTask=!this.newTask,this.taskStub=Object(r["a"])({},this.taskStub,{projectId:this.getProject._id,assignedTo:[]})},toggleStage:function(){this.editStage=!this.editStage},dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("id",this.stage._id),t.dataTransfer.setData("domain","stage")},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot",(this.getProfile.sidebar&&t.screenX<=270||!this.getProfile.sidebar&&t.screenX<=20)&&b("dragging"),t.screenX>window.innerWidth*window.devicePixelRatio-20&&b("dragging")},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");if(this.dragClass="","task"===e){var s=this.getTaskById(a);this.saveTask(Object(r["a"])({},s,{stageId:this.stage._id}))}else"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.stage._id})}}),computed:Object(r["a"])({},Object(o["c"])(["getTasksByStageSorted","getTaskById","getProject","getProfile"]),{tasks:function(){var t=this.getTasksByStageSorted(this.stage._id,this.sortCriteria,this.searchCriteria);return t}}),created:function(){var t=this;k().subscribe((function(e){"dragging"===e.name&&(t.isDragging=e.signal)}))}},mm=um,hm=(a("84d4"),Object(me["a"])(mm,fu,vu,!1,null,"1dadb1cb",null)),pm=hm.exports,gm={name:"BoardView",props:{searchCriteria:Array,sortCriteria:Object,showFilterBar:Boolean},components:{VerticalLane:pm},computed:Object(r["a"])({},Object(o["c"])(["getStagesByProjectId","getProject"]))},fm=gm,vm=(a("9ec5"),Object(me["a"])(fm,pu,gu,!1,null,"1c5b3681",null)),bm=vm.exports,km=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-view"},[a("div",{staticClass:"content-container"},[a("div",{staticClass:"list-view-header"},[a("SortableField",{attrs:{sortCriteria:t.sortCriteria,field:"taskId",label:"Task Id"},on:{click:t.sort}}),a("SortableField",{attrs:{sortCriteria:t.sortCriteria,field:"type",label:"Type"},on:{click:t.sort}}),a("SortableField",{attrs:{sortCriteria:t.sortCriteria,field:"epic",label:"Epic"},on:{click:t.sort}}),a("SortableField",{attrs:{sortCriteria:t.sortCriteria,field:"title",label:"Title"},on:{click:t.sort}}),a("div",[t._v("Assigned To")]),a("SortableField",{attrs:{sortCriteria:t.sortCriteria,field:"priority",label:"Priority"},on:{click:t.sort}})],1),a("div",{staticClass:"list-view-content"},t._l(t.getStagesByProjectId(),(function(e){return a("div",{key:e._id},[a("horizontal-lane",{attrs:{stage:e,sortCriteria:t.sortCriteria,searchCriteria:t.searchCriteria}})],1)})),0)])])},_m=[],ym=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lane-horizontal"},[a("div",{staticClass:"stage typography-4",class:t.isExpanded?"show":"hide",attrs:{draggable:"true"},on:{click:t.toggle,dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragstart:t.dragStart,dragend:t.dragEnd,drop:function(e){return e.preventDefault(),t.drop(e)},dragleave:t.dragLeave}},[a("i",{staticClass:"material-icons",class:t.isExpanded?"showless":"showmore"},[t._v("expand_more")]),t._v(" "+t._s(t.stage.name)+" ")]),a("div",{ref:"container",staticClass:"container",class:t.isExpanded?"show":"hide"},[t.tasks.length>0?t._l(t.tasks,(function(t){return a("div",{key:t.id,attrs:{id:t.id}},[a("ListItem",{attrs:{task:t}})],1)})):a("div",[a("EmptyListItem",{attrs:{stage:t.stage}})],1)],2)])},Cm=[],Tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"list-item",class:t.dragClass,attrs:{draggable:"true"},on:{drop:function(e){return e.preventDefault(),t.drop(e)},dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragleave:t.dragLeave,dragstart:t.dragStart,dragend:t.dragEnd,click:t.toggleTask}},[a("div",{staticClass:"one-liner",attrs:{"data-test":"task-id"}},[t._v(t._s(t.task.taskId))]),a("div",[a("TaskTypeBadge",{attrs:{type:t.task.type}}),a("div",{staticClass:"one-liner"},[t._v(t._s(t.task.type))])],1),a("div",[a("EpicBadge",{attrs:{epic:t.getTaskById(t.task.epic)}})],1),a("div",{staticClass:"one-liner"},[t._v(t._s(t.task.title))]),a("div",t._l(t.members,(function(t){return a("Avatar",{key:t._id,attrs:{user:t,size:"small"}})})),1),a("div",[a("TaskPriorityBadge",{attrs:{priority:t.task.priority}}),a("div",{staticClass:"one-liner"},[t._v(t._s(t.task.priority))])],1)]),a("UpdateTask",{attrs:{task:t.task,visible:t.editTask},on:{toggle:t.toggleTask}})],1)},jm=[],Om={name:"ListItem",components:{EpicBadge:Gu,UpdateTask:kl,Avatar:Cs,TaskTypeBadge:nl,TaskPriorityBadge:Su},props:{task:Object},data:function(){return{editTask:!1,dragClass:""}},computed:Object(r["a"])({},Object(o["c"])(["getUserById","getTaskById"]),{members:function(){var t,e=this,a=[];return null===(t=this.task.assignedTo)||void 0===t||t.forEach((function(t){return a.push(e.getUserById(t))})),a}}),methods:Object(r["a"])({},Object(o["b"])(["moveTask","moveStage"]),{dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("domain","task"),t.dataTransfer.setData("id",this.task._id),setTimeout((function(){}),0)},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot"},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");this.dragClass="","task"===e?this.moveTask({moveTaskId:a,afterTaskId:this.task._id}):"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.task.stageId})},toggleTask:function(){this.editTask=!this.editTask}})},wm=Om,Sm=(a("2620"),Object(me["a"])(wm,Tm,jm,!1,null,"b50ff4c6",null)),Pm=Sm.exports,Im=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"list-item",class:t.dragClass,on:{drop:function(e){return e.preventDefault(),t.drop(e)},dragover:function(e){return e.preventDefault(),t.dragOver(e)},dragleave:t.dragLeave,dragstart:t.dragStart,dragend:t.dragEnd}},[a("div",{staticClass:"container"})])])},xm=[],Em={name:"EmptyListItem",props:{stage:Object},data:function(){return{dragClass:""}},computed:Object(r["a"])({},Object(o["c"])(["getTaskById"])),methods:Object(r["a"])({},Object(o["b"])(["saveTask","moveStage"]),{dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("id",this.task._id),setTimeout((function(){}),0)},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot"},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");this.dragClass="","task"===e?this.saveTask(Object(r["a"])({},this.getTaskById(a),{stageId:this.stage._id})):"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.stage._id})},toggleTask:function(){this.editTask=!this.editTask}})},Bm=Em,Am=(a("0ee0"),Object(me["a"])(Bm,Im,xm,!1,null,"39621861",null)),Dm=Am.exports,$m={name:"HorizontalLane",components:{ListItem:Pm,EmptyListItem:Dm},props:{stage:Object,sortCriteria:Object,searchCriteria:Array},data:function(){return{isExpanded:!0}},mounted:function(){this.updateScrollHeight()},methods:Object(r["a"])({},Object(o["b"])(["moveStage","saveTask"]),{toggle:function(){this.isExpanded=!this.isExpanded},updateScrollHeight:function(){var t=this;setTimeout((function(){t.isExpanded?t.$refs.container.style.maxHeight=t.$refs.container.scrollHeight+"px":t.$refs.container.style.maxHeight="0px"}),0)},dragStart:function(t){this.dragClass="source-spot",t.dataTransfer.setData("id",this.stage._id),t.dataTransfer.setData("domain","stage"),setTimeout((function(){}),0)},dragEnd:function(){this.dragClass="",b("dragging",!1)},dragOver:function(t){this.dragClass="source-spot"===this.dragClass?this.dragClass:"destination-spot"},dragLeave:function(t){this.dragClass="destination-spot"===this.dragClass?"":this.dragClass},drop:function(t){var e=t.dataTransfer.getData("domain"),a=t.dataTransfer.getData("id");if(this.dragClass="","task"===e){var s=this.getTaskById(a);this.saveTask(Object(r["a"])({},s,{stageId:this.stage._id}))}else"stage"===e&&this.moveStage({moveStageId:a,afterStageId:this.stage._id})}}),watch:{tasks:function(){this.updateScrollHeight()},isExpanded:function(){this.updateScrollHeight()}},computed:Object(r["a"])({},Object(o["c"])(["getTasksByStageSorted","getTaskById"]),{tasks:function(){var t=this.getTasksByStageSorted(this.stage._id,this.sortCriteria,this.searchCriteria);return t}})},Mm=$m,Nm=(a("7dc0"),Object(me["a"])(Mm,ym,Cm,!1,null,"69749eb9",null)),Rm=Nm.exports,Lm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sortable",on:{click:function(e){return t.$emit("click",t.field)}}},[a("div",{staticClass:"field"},[t._v(t._s(t.label))]),t.sortCriteria.field===t.field?a("div",{staticClass:"arrow"},[t.sortCriteria.ascending?a("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_up")]):a("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_down")])]):t._e()])},Um=[],Vm={name:"SortableField",props:{sortCriteria:Object,field:String,label:String}},zm=Vm,Fm=(a("664a"),Object(me["a"])(zm,Lm,Um,!1,null,"a0d3b12e",null)),Hm=Fm.exports,Gm={name:"ListView",components:{HorizontalLane:Rm,SortableField:Hm},props:{searchCriteria:Array,sortCriteria:Object},computed:Object(r["a"])({},Object(o["c"])(["getStagesByProjectId","getProject"])),methods:{sort:function(t){this.sortCriteria.field===t?this.sortCriteria.ascending=!this.sortCriteria.ascending:this.sortCriteria={field:t,ascending:!0},b("request-task-filter-change-sort",!0,this.sortCriteria)}}},qm=Gm,Km=(a("5528"),Object(me["a"])(qm,km,_m,!1,null,"c221708a",null)),Jm=Km.exports,Wm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getProject?[a("div",{key:t.getProject._id,staticClass:"filterbar"},[a("div",{staticClass:"left"},[a("div",{staticClass:"search-bar"},[a("OakText",{attrs:{data:t.searchText,label:"Type to search"},on:{change:t.handleSearchTextChange}})],1)]),a("div",{staticClass:"right desktop-only"},[["board","list"].includes(t.page)?a("TaskFilter"):t._e()],1)])]:t._e()],2)},Ym=[],Xm={name:"Filterbar",components:{TaskFilter:Ld,OakText:Ms},data:function(){return{searchText:""}},computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject","getTaskToView","getTaskByTaskId"]),{page:function(){return this.$route.query.view||"board"},recentTasks:function(){var t=this,e=[];return this.getTaskToView.map((function(a){var s,i="",n="";switch(null===(s=t.getTaskByTaskId(a))||void 0===s?void 0:s.type){case"Story":i="menu_book";break;case"Task":i="bookmark";break;case"Sub-task":i="book";break;case"Defect":i="bug_report";break;case"Epic":n="epic";break}e.push({label:a,action:function(){return t.switchToTask(a)},icon:i,svg:n})})),e}}),watch:{page:{handler:function(t){"task"===t?this.$emit("viewTypeChange",t,this.$route.query.taskid):this.$emit("viewTypeChange",t)},immediate:!0}},methods:{switchToTask:function(t){this.$emit("viewTypeChange","task",t),this.$router.push({path:"/".concat(this.getProfile.space,"/").concat(this.getProject._id,"/dashboard"),query:{view:"task",taskid:t}})},handleSearchTextChange:function(){this.searchText=event.target.value,b("request-task-filter-change-search",!0,{field:"",text:event.target.value})}}},Qm=Xm,Zm=(a("de76"),Object(me["a"])(Qm,Wm,Ym,!1,null,"342ef9b0",null)),th=Zm.exports,eh={name:"ProjectDashboard",components:{EpicList:ou,Toolbar:Fd,Filterbar:th,ListView:Jm,BoardView:bm,SprintView:hu,TaskView:Id},data:function(){return{showFilterBar:!1,view:"",selectedRecentTask:"",searchCriteria:[{field:"",text:""}],sortCriteria:{field:"",ascending:!0}}},computed:Object(r["a"])({},Object(o["c"])(["getStagesByProjectId","getProject"]),{styleClass:function(){var t;return(null===(t=this.getProject)||void 0===t?void 0:t.image)?"background-present":"background-not-present"}}),watch:{getProject:function(){var t;(null===(t=this.getProject)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("planning")[0].style.background="url(".concat(this.getProject.image,") no-repeat center center"))}},mounted:function(){var t,e=this;(null===(t=this.getProject)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("planning")[0].style.background="url(".concat(this.getProject.image,") no-repeat center center")),k().subscribe((function(t){"project-view-updated"===t.name&&e.switchView(t.data.view,t.data.taskId),"task-filter-change-search"===t.name?e.searchCriteria=t.data:"task-filter-change-sort"===t.name&&(e.sortCriteria={field:t.data.field,ascending:t.data.ascending})}))},methods:Object(r["a"])({},Object(o["b"])(["addTaskToView"]),{switchView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.view=t,this.selectedRecentTask=e,"task"===t&&this.addTaskToView(e)},toggleFilter:function(){this.showFilterBar=!this.showFilterBar}})},ah=eh,sh=(a("e25b"),Object(me["a"])(ah,xd,Ed,!1,null,"47b922b8",null)),ih=sh.exports,nh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"planning",class:t.styleClass},[a("div",{staticClass:"left"},[a("div",{staticClass:"toolbar-container",class:t.styleClass},[a("Toolbar",{on:{viewTypeChange:t.switchView}})],1),a("div",{staticClass:"planning-content"},["team"===t.view?a("TeamView"):t._e(),"administrators"===t.view?a("ProjectAdministrators"):t._e(),"background"===t.view?a("ProjectChangeBackground"):t._e()],1)])])},rh=[],oh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toolbar"},[a("div",{staticClass:"left"},[t.getProject?[a("router-link",{key:t.getProject._id+"_board",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/administration?view=team"}},[t._v(" Team ")]),a("router-link",{key:t.getProject._id+"_list",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/administration?view=administrators"}},[t._v(" Administrators ")]),a("router-link",{key:t.getProject._id+"_sprint",staticClass:"nav-item",attrs:{to:"/"+t.getProfile.space+"/"+t.getProject._id+"/administration?view=background"}},[t._v(" Background ")])]:t._e()],2),a("div")])},ch=[],lh={name:"Toolbar",computed:Object(r["a"])({},Object(o["c"])(["getProfile","getProject","getTaskToView","getTaskByTaskId"]),{page:function(){return this.$route.query.view||"board"}}),watch:{page:{handler:function(t){"task"===t?this.$emit("viewTypeChange",t,this.$route.query.taskid):this.$emit("viewTypeChange",t)},immediate:!0}}},dh=lh,uh=(a("0b46"),Object(me["a"])(dh,oh,ch,!1,null,"0b1560f8",null)),mh=uh.exports,hh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team"},[a("div",{staticClass:"container"},[a("div",{staticClass:"team-content"},[a("div",{staticClass:"search-bar"},[a("OakAutoComplete",{attrs:{placeholder:"Search for team name",objects:t.teamList,id:"people-search"},on:{change:t.handleChange}})],1),t.getProject?a("div",{staticClass:"team-list"},t._l(t.getProjectTeamsByProjectId(t.getProject._id),(function(e){return a("div",{key:e._id,staticClass:"team-record",attrs:{group:"team-list",label:e,collapseOthers:""}},[a("TeamPreview",{attrs:{projectTeam:e},on:{remove:function(a){return t.removeTeam(e._id)}}})],1)})),0):t._e()])])])},ph=[],gh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.team?a("div",{staticClass:"team-preview"},[a("div",{staticClass:"content"},[a("div",{staticClass:"name typography-6"},[t._v(t._s(t.team.name))]),a("div",{staticClass:"members-list"},[t._l(t.people,(function(e,s){return a("div",{key:e._id,staticClass:"typography-4"},[s<5?a("div",[t._v(" "+t._s(e.firstName+" "+e.lastName)+" ")]):t._e()])})),t.people.length>5?a("div",{staticClass:"members-link typography-4",on:{click:t.toggleMoreMembers}},[t._v(" "+t._s("+"+(t.people.length-5)+" more")+" ")]):t._e()],2)]),a("div",{staticClass:"actions"},[a("div",[a("i",{staticClass:"material-icons",on:{click:t.toggleDeletePrompt}},[t._v("delete")])])]),a("OakPrompt",{attrs:{visible:t.showDeletePrompt,text:"Are you sure you want to remove team?"},on:{click:function(e){return t.$emit("remove")},close:t.toggleDeletePrompt}}),a("OakModal",{attrs:{visible:t.showMoreMembers,label:"Members of "+t.team.name},on:{close:t.toggleMoreMembers}},[a("div",{attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"more-members"},t._l(t.people,(function(e){return a("div",{key:e._id,staticClass:"members-link typography-5"},[t._v(" "+t._s(e.firstName+" "+e.lastName)+" ")])})),0)])])],1):t._e()},fh=[],vh={name:"TeamPreview",components:{OakPrompt:Qo,OakModal:is},props:{projectTeam:Object},data:function(){return{showDeletePrompt:!1,showMoreMembers:!1}},computed:Object(r["a"])({},Object(o["c"])(["getProject","getUserById","findTeamById","getTeamMembersByTeamId"]),{team:function(){return this.findTeamById(this.projectTeam.teamId)},people:function(){var t,e,a=this,s=[];return null===(t=this.getTeamMembersByTeamId(null===(e=this.team)||void 0===e?void 0:e._id))||void 0===t||t.forEach((function(t){var e=a.getUserById(t.userId);s.push(e)})),s}}),methods:Object(r["a"])({},Object(o["b"])([]),{toggleDeletePrompt:function(){this.showDeletePrompt=!this.showDeletePrompt},toggleMoreMembers:function(){this.showMoreMembers=!this.showMoreMembers}})},bh=vh,kh=(a("68a0"),Object(me["a"])(bh,gh,fh,!1,null,"b70a3cf0",null)),_h=kh.exports,yh={name:"TeamView",components:{OakAutoComplete:Ri,TeamPreview:_h},computed:Object(r["a"])({},Object(o["c"])(["getProject","getTeams","findTeamById","getProjectTeamsByProjectId"]),{teamList:function(){var t,e=[];return null===(t=this.getTeams)||void 0===t||t.forEach((function(t){e.push({key:t._id,value:"".concat(t.name)})})),e}}),methods:Object(r["a"])({},Object(o["b"])(["saveProject","saveProjectTeam","deleteProjectTeam"]),{handleChange:function(t){this.saveProjectTeam({projectId:this.getProject._id,teamId:t})},removeTeam:function(t){this.deleteProjectTeam(t)}})},Ch=yh,Th=(a("4a9a"),Object(me["a"])(Ch,hh,ph,!1,null,"00955024",null)),jh=Th.exports,Oh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-administrator"},[t.getProject?a("div",{staticClass:"container"},[a("div",[a("OakAutoComplete",{attrs:{objects:t.peopleList,label:"Search to add members",id:"people-search"},on:{change:t.addMember}})],1),a("div",{staticClass:"members"},t._l(t.getRolesByProjectId(t.getProject._id),(function(t,e){return a("div",{key:e},[a("Member",{attrs:{role:t}})],1)})),0)]):t._e()])},wh=[],Sh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member"},[a("div",{staticClass:"name"},[t._v(" "+t._s(t.member?t.member.firstName+" "+t.member.lastName:"")+" ")]),t.confirmPrompt?a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt delete",on:{click:t.remove}},[t._v("Confirm")]),a("div",{staticClass:"confirm-prompt",on:{click:t.toggleConfirmPrompt}},[t._v(" Cancel ")])]):a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt trigger",on:{click:t.toggleConfirmPrompt}},[a("OakIcon",{attrs:{mat:"close"}})],1)])])},Ph=[],Ih={name:"Member",props:{role:Object,team:Object},components:{OakIcon:ra},data:function(){return{confirmPrompt:!1}},computed:Object(r["a"])({},Object(o["c"])(["getUserById"]),{member:function(){return this.getUserById(this.role.userId)}}),methods:Object(r["a"])({},Object(o["b"])(["deleteRole"]),{remove:function(){this.deleteRole(this.role._id),this.toggleConfirmPrompt()},toggleConfirmPrompt:function(){this.confirmPrompt=!this.confirmPrompt}})},xh=Ih,Eh=(a("e7c4"),Object(me["a"])(xh,Sh,Ph,!1,null,"333e3052",null)),Bh=Eh.exports,Ah={name:"ProjectAdministrators",components:{OakAutoComplete:Ri,Member:Bh},computed:Object(r["a"])({},Object(o["c"])(["getProject","getUsers","getUserById","getRolesByProjectId"]),{peopleList:function(){var t,e=[];return null===(t=this.getUsers)||void 0===t||t.forEach((function(t){e.push({key:t._id,value:"".concat(t.firstName," ").concat(t.lastName)})})),e}}),methods:Object(r["a"])({},Object(o["b"])(["saveTeam","deleteTeam","saveRole"]),{addMember:function(t){this.saveRole({type:"ProjectAdministrator",domainId:this.getProject._id,userId:t})}})},Dh=Ah,$h=(a("1139"),Object(me["a"])(Dh,Oh,wh,!1,null,"81399e6e",null)),Mh=$h.exports,Nh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-change-background"},[a("ImageSearch",{on:{click:t.chooseImage}})],1)},Rh=[],Lh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-search"},[a("OakPagination",{attrs:{totalRows:t.getImagesPagination.total,pageSizes:["10","20","30"]},on:{pageChanged:t.pageChanged}}),a("form",{staticClass:"form-view",attrs:{method:"GET",noValidate:""},on:{submit:t.search}},[a("OakText",{attrs:{data:t.searchText,label:"Type to search for images",id:"image-search-text"},on:{change:t.handleSearchTextChange}}),a("OakButton",{attrs:{label:"search",theme:"primary",variant:"appear"},on:{click:t.search}})],1),a("div",{staticClass:"search-results"},t._l(t.getImages,(function(e){return a("div",{key:e.id,staticClass:"thumb"},[a("img",{attrs:{src:e.urls.thumb},on:{click:function(a){return t.chooseImage(e.urls.regular)}}})])})),0)],1)},Uh=[],Vh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"oak-pagination"},[a("div",{staticClass:"space-right-3"},[t._v(" "+t._s(t.label?t.label:"Rows per page")+" ")]),a("div",{staticClass:"space-right-3"},[a("OakSelect",{attrs:{data:t.data["rowsPerPage"],id:"rowsPerPage",elements:t.pageSizes?t.pageSizes:t.pageSizesDefault},on:{change:t.handleChange}})],1),a("div",{staticClass:"page-number space-right-3"},[a("div",[t._v(" "+t._s(t.pageNumberDisplay)+" ")])]),a("div",{staticClass:"page-nav"},[a("div",{staticClass:"space-right-2"},[a("i",{class:t.previousPageIndicatorStyle,attrs:{"data-test":"action-page-previous"},on:{click:t.previousPage}},[t._v(" keyboard_arrow_left ")])]),a("div",[a("i",{class:t.nextPageIndicatorStyle,attrs:{"data-test":"action-page-next"},on:{click:t.nextPage}},[t._v(" keyboard_arrow_right ")])])])])},zh=[],Fh={name:"OakPagination",props:{totalRows:Number,label:String,pageSizes:Array},components:{OakSelect:zs},data:function(){return{data:{rowsPerPage:6,pageNo:1},pageSizesDefault:["6","10","20","50"]}},mounted:function(){this.pageSizes&&(this.data.rowsPerPage=this.pageSizes[0])},methods:{previousPage:function(){1!==this.data.pageNo&&(this.data.pageNo=this.data.pageNo-1,this.pageChanged())},pageChanged:function(){this.$emit("pageChanged",this.data.pageNo,this.data.rowsPerPage)},nextPage:function(){Math.ceil(this.totalRows/this.data.rowsPerPage)!==this.data.pageNo&&(this.data.pageNo=this.data.pageNo+1,this.pageChanged())},handleChange:function(){this.data[event.target.name]=event.target.value,this.pageChanged()}},computed:{pageNumberDisplay:function(){var t=(this.data.pageNo-1)*this.data.rowsPerPage+1;return t+=" - ",t+=this.data.pageNo*this.data.rowsPerPage<this.totalRows?this.data.pageNo*this.data.rowsPerPage:this.totalRows,t+=" of ",t+=this.totalRows,t},previousPageIndicatorStyle:function(){return 1===this.data.pageNo?"material-icons disabled":"material-icons"},nextPageIndicatorStyle:function(){return Math.ceil(this.totalRows/this.data.rowsPerPage)===this.data.pageNo?"material-icons disabled":"material-icons"}}},Hh=Fh,Gh=(a("70a8"),Object(me["a"])(Hh,Vh,zh,!1,null,"79b4f230",null)),qh=Gh.exports,Kh={name:"ImageSearch",components:{OakText:Ms,OakButton:Qa,OakPagination:qh},data:function(){return{searchText:"",pageNo:1,rowsPerPage:10}},mounted:function(){this.clearImages()},computed:Object(r["a"])({},Object(o["c"])(["getImages","getImagesPagination"])),methods:Object(r["a"])({},Object(o["b"])(["searchImages","clearImages"]),{handleSearchTextChange:function(){this.searchText=event.target.value},search:function(){event.preventDefault(),this.searchImages({searchText:this.searchText,pageNo:this.pageNo,rowsPerPage:this.rowsPerPage})},chooseImage:function(t){this.$emit("click",t)},pageChanged:function(t,e){this.pageNo=t,this.rowsPerPage=e,this.search()}})},Jh=Kh,Wh=(a("0159"),Object(me["a"])(Jh,Lh,Uh,!1,null,"04e3be52",null)),Yh=Wh.exports,Xh={name:"ProjectChangeBackground",components:{ImageSearch:Yh},computed:Object(r["a"])({},Object(o["c"])(["getProject"])),methods:Object(r["a"])({},Object(o["b"])(["saveProject"]),{chooseImage:function(t){this.saveProject(Object(r["a"])({},this.getProject,{image:t}))}})},Qh=Xh,Zh=(a("b075"),Object(me["a"])(Qh,Nh,Rh,!1,null,"c3a840b2",null)),tp=Zh.exports,ep={name:"ProjectAdministration",components:{Toolbar:mh,TeamView:jh,ProjectAdministrators:Mh,ProjectChangeBackground:tp},data:function(){return{view:"",selectedRecentTask:""}},computed:Object(r["a"])({},Object(o["c"])(["getStagesByProjectId","getProject"]),{styleClass:function(){var t;return(null===(t=this.getProject)||void 0===t?void 0:t.image)?"background-present":"background-not-present"}}),watch:{getProject:function(){var t;(null===(t=this.getProject)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("planning")[0].style.background="url(".concat(this.getProject.image,") no-repeat center center"))}},mounted:function(){var t;(null===(t=this.getProject)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("planning")[0].style.background="url(".concat(this.getProject.image,") no-repeat center center"))},methods:Object(r["a"])({},Object(o["b"])(["addTaskToView"]),{switchView:function(t){this.view=t}})},ap=ep,sp=(a("d5d9"),Object(me["a"])(ap,nh,rh,!1,null,"07da288e",null)),ip=sp.exports,np=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-administrator",class:t.styleClass},[t.getTeam?a("div",{staticClass:"container"},[a("div",[a("OakAutoComplete",{attrs:{objects:t.peopleList,label:"Search to add members",id:"people-search"},on:{change:t.addMember}})],1),a("div",{staticClass:"members"},t._l(t.getRolesByTeamId(t.getTeam._id),(function(t,e){return a("div",{key:e},[a("Member",{attrs:{role:t}})],1)})),0)]):t._e()])},rp=[],op=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"member"},[a("div",{staticClass:"name"},[t._v(" "+t._s(t.member?t.member.firstName+" "+t.member.lastName:"")+" ")]),t.confirmPrompt?a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt delete",on:{click:t.remove}},[t._v("Confirm")]),a("div",{staticClass:"confirm-prompt",on:{click:t.toggleConfirmPrompt}},[t._v(" Cancel ")])]):a("div",{staticClass:"action"},[a("div",{staticClass:"confirm-prompt trigger",on:{click:t.toggleConfirmPrompt}},[a("OakIcon",{attrs:{mat:"close"}})],1)])])},cp=[],lp={name:"Member",props:{role:Object,team:Object},components:{OakIcon:ra},data:function(){return{confirmPrompt:!1}},computed:Object(r["a"])({},Object(o["c"])(["getUserById"]),{member:function(){return this.getUserById(this.role.userId)}}),methods:Object(r["a"])({},Object(o["b"])(["deleteRole"]),{remove:function(){this.deleteRole(this.role._id),this.toggleConfirmPrompt()},toggleConfirmPrompt:function(){this.confirmPrompt=!this.confirmPrompt}})},dp=lp,up=(a("d8aa"),Object(me["a"])(dp,op,cp,!1,null,"7d3c1b33",null)),mp=up.exports,hp={name:"TeamAdministrators",components:{OakAutoComplete:Ri,Member:mp},computed:Object(r["a"])({},Object(o["c"])(["getTeam","getUsers","getUserById","getRolesByTeamId"]),{styleClass:function(){var t;return(null===(t=this.getTeam)||void 0===t?void 0:t.image)?"background-present":"background-not-present"},peopleList:function(){var t,e=[];return null===(t=this.getUsers)||void 0===t||t.forEach((function(t){e.push({key:t._id,value:"".concat(t.firstName," ").concat(t.lastName)})})),e}}),methods:Object(r["a"])({},Object(o["b"])(["saveTeam","deleteTeam","saveRole"]),{addMember:function(t){this.saveRole({type:"TeamAdministrator",domainId:this.getTeam._id,userId:t})}}),watch:{getTeam:function(){var t;(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-administrator")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},mounted:function(){var t;(null===(t=this.getTeam)||void 0===t?void 0:t.image)&&(document.getElementsByClassName("team-administrator")[0].style.background="url(".concat(this.getTeam.image,") no-repeat center center"))}},pp=hp,gp=(a("e4ee"),Object(me["a"])(pp,np,rp,!1,null,"7f79bb62",null)),fp=gp.exports,vp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},bp=[],kp={name:"Login",computed:Object(r["a"])({},Object(o["c"])(["getProfile"])),methods:Object(r["a"])({},Object(o["b"])(["setSpace"])),created:function(){this.$route.query.space&&this.$route.query.authKey&&(this.setSpace(this.$route.query.space),this.$cookies.set("janus_".concat(this.$route.query.space),this.$route.query.authKey),this.$router.push({name:"SpaceHomeDefault",params:{space:this.$route.query.space}}))}},_p=kp,yp=(a("1c1b"),Object(me["a"])(_p,vp,bp,!1,null,"07dd80f4",null)),Cp=yp.exports,Tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"unauthorized"},[a("div",{staticClass:"typography-10 space-top-5 space-bottom-2 title"},[a("OakIcon",{attrs:{mat:"error",color:"failure",size:"100px"}}),t._m(0)],1)])},jp=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text"},[t._v(" Unauthorized "),a("div",{staticClass:"typography-5"},[t._v(" You don't have appropriate permissions to access the page you are trying to view ")])])}],Op={name:"Unauthorized",components:{OakIcon:ra}},wp=Op,Sp=(a("8edf"),Object(me["a"])(wp,Tp,jp,!1,null,"6877c01c",null)),Pp=Sp.exports,Ip=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-change-background"},[a("ImageSearch",{on:{click:t.chooseImage}})],1)},xp=[],Ep={name:"TeamChangeBackground",components:{ImageSearch:Yh},computed:Object(r["a"])({},Object(o["c"])(["getTeam"])),methods:Object(r["a"])({},Object(o["b"])(["saveTeam"]),{chooseImage:function(t){this.saveTeam(Object(r["a"])({},this.getTeam,{image:t}))}})},Bp=Ep,Ap=(a("7ee5"),Object(me["a"])(Bp,Ip,xp,!1,null,"cb84ddbc",null)),Dp=Ap.exports;function $p(t){var e=document.cookie.match("(^|[^;]+)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():""}var Mp=function(t){window.location.href="".concat("https://oneauth.ioak.org","/#/space/").concat(t,"/login?appId=").concat("3202a37dc421d735808c937b")};function Np(t,e,a){var s=e[a];return s?function(){var i=Np(t,e,a+1);s(Object(r["a"])({},t,{next:i,nextVue:t.next}))}:t.next}function Rp(t,e){t({name:"Unauthorized"})}function Lp(t){var e=t.to,a=(t.from,t.next);t.nextVue;if(ne.getters.getProfile.auth.isAuth)a();else{var s=$p("janus_".concat(e.params.space));s?g.a.get("".concat("https://janus-service.herokuapp.com","/auth/").concat(e.params.space,"/session/").concat(s)).then((function(t){ne.dispatch("addAuth",{auth:Object(r["a"])({},t.data.data,{isAuth:!0})}),a()})).catch((function(t){401!==t.response.status&&404!==t.response.status||Mp(e.params.space)})):Mp(e.params.space)}}function Up(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.dispatch("setSpace",e.params.space),a()}function Vp(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.dispatch("chooseProject",e.params.projectId),ne.dispatch("chooseTeam",null),a()}function zp(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.dispatch("addTaskToView",e.params.taskId),a()}function Fp(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.dispatch("chooseTeam",e.params.teamId),ne.dispatch("chooseProject",null),a()}function Hp(t,e){ne.getters.getRolesByProjectId(e.projectId).find((function(t){return t.userId===ne.getters.getProfile.auth._id}))?t():Rp(t,e)}function Gp(t,e){ne.getters.getRolesByTeamId(e.teamId).find((function(t){return t.userId===ne.getters.getProfile.auth._id}))?t():Rp(t,e)}function qp(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.getters.getRoleInitializeStatus()?Hp(a,e.params):ne.watch(ne.getters.getRoleInitializeStatus,(function(){ne.getters.getRoleInitializeStatus&&Hp(a,e.params)}))}function Kp(t){var e=t.to,a=(t.from,t.next);t.nextVue;ne.getters.getRoleInitializeStatus()?Gp(a,e.params):ne.watch(ne.getters.getRoleInitializeStatus,(function(){ne.getters.getRoleInitializeStatus&&Gp(a,e.params)}))}s["a"].use(Or["a"]);var Jp=[{path:"/:space/unauthorized",component:Pp,name:"Unauthorized",meta:{middleware:[Up,Lp]}},{path:"/:space/home",component:Wr,name:"SpaceHome",meta:{middleware:[Up,Lp]}},{path:"/:space",component:Wr,name:"SpaceHomeDefault",meta:{middleware:[Up,Lp]}},{path:"/oa/login",component:Cp,name:"Login"},{path:"/:space/:projectId/dashboard",component:ih,name:"ProjectDashboard",meta:{context:"Project",middleware:[Up,Vp,Lp]}},{path:"/:space/:projectId/administration",component:ip,name:"ProjectAdministration",meta:{context:"Project",middleware:[Up,Vp,Lp,qp]}},{path:"/:space/:projectId/task/:taskId",component:Id,name:"TaskView",meta:{context:"Project",middleware:[Up,Vp,zp,Lp]}},{path:"/:space/:teamId/team/members",component:cc,name:"TeamMembers",meta:{context:"Team",middleware:[Up,Fp,Lp]}},{path:"/:space/:teamId/team/projects",component:Ho,name:"TeamProjects",meta:{context:"Team",middleware:[Up,Fp,Lp]}},{path:"/:space/:teamId/team/administrators",component:fp,name:"TeamAdministrators",meta:{context:"Team",middleware:[Up,Fp,Lp,Kp]}},{path:"/:space/:teamId/team/changebackground",component:Dp,name:"TeamChangeBackground",meta:{context:"Team",middleware:[Up,Fp,Lp,Kp]}},{path:"",component:Bo,name:"Landing"}],Wp=new Or["a"]({routes:Jp});Wp.beforeEach((function(t,e,a){if(!t.meta.middleware)return a();var s=t.meta.middleware,i={to:t,from:e,next:a};return s[0](Object(r["a"])({},i,{next:Np(i,s,1),nextVue:i.next}))}));var Yp=Wp,Xp=a("2b27"),Qp=a.n(Xp);s["a"].config.productionTip=!1,s["a"].use(Qp.a),new s["a"]({router:Yp,store:ne,render:function(t){return t(Tr)}}).$mount("#app")},cd7a:function(t,e,a){},ce78:function(t,e,a){"use strict";var s=a("89dc"),i=a.n(s);i.a},d056:function(t,e,a){},d146:function(t,e,a){"use strict";var s=a("b467"),i=a.n(s);i.a},d14c:function(t,e,a){},d209:function(t,e,a){"use strict";var s=a("9687"),i=a.n(s);i.a},d2a5:function(t,e,a){},d3b5:function(t,e,a){"use strict";var s=a("2a2d"),i=a.n(s);i.a},d3f1:function(t,e,a){"use strict";var s=a("fa96"),i=a.n(s);i.a},d3fb:function(t,e,a){"use strict";var s=a("8896"),i=a.n(s);i.a},d400:function(t,e,a){},d412:function(t,e,a){},d45d:function(t,e,a){},d4c5:function(t,e,a){},d5b0:function(t,e,a){},d5d9:function(t,e,a){"use strict";var s=a("8691"),i=a.n(s);i.a},d6df:function(t,e,a){"use strict";var s=a("2ffa"),i=a.n(s);i.a},d71b:function(t,e,a){"use strict";var s=a("6be8"),i=a.n(s);i.a},d768:function(t,e,a){},d785:function(t,e,a){},d8aa:function(t,e,a){"use strict";var s=a("8c27"),i=a.n(s);i.a},d8da:function(t,e,a){},dda5:function(t,e,a){"use strict";var s=a("d2a5"),i=a.n(s);i.a},de76:function(t,e,a){"use strict";var s=a("6fbd"),i=a.n(s);i.a},deaf:function(t,e,a){"use strict";var s=a("d400"),i=a.n(s);i.a},e25b:function(t,e,a){"use strict";var s=a("0465"),i=a.n(s);i.a},e294:function(t,e,a){"use strict";var s=a("af1f"),i=a.n(s);i.a},e4ee:function(t,e,a){"use strict";var s=a("31df"),i=a.n(s);i.a},e78c:function(t,e,a){},e7c4:function(t,e,a){"use strict";var s=a("90ee"),i=a.n(s);i.a},e823:function(t,e,a){},e9f4:function(t,e,a){"use strict";var s=a("0459"),i=a.n(s);i.a},ea02:function(t,e,a){"use strict";var s=a("72d9"),i=a.n(s);i.a},eb06:function(t,e,a){},ebd9:function(t,e,a){},ec62:function(t,e,a){},f2fb:function(t,e,a){},f470:function(t,e,a){},f5f2:function(t,e,a){},f70d:function(t,e,a){},f869:function(t,e,a){"use strict";var s=a("3fbf"),i=a.n(s);i.a},f86f:function(t,e,a){},f882:function(t,e,a){},fa96:function(t,e,a){},fd70:function(t,e,a){"use strict";var s=a("136b"),i=a.n(s);i.a},fdc4:function(t,e,a){},fe67:function(t,e,a){"use strict";var s=a("4208"),i=a.n(s);i.a},fe88:function(t,e,a){"use strict";var s=a("8d59"),i=a.n(s);i.a},ff82:function(t,e,a){"use strict";var s=a("6cf3"),i=a.n(s);i.a}});
//# sourceMappingURL=app.4b9da795.js.map